{
  "hash": "069a76ba29b95d499d08fcc7fac85f05",
  "result": {
    "markdown": "---\ntitle: \"Datos Espaciales en R\"\nsubtitle: \"Análisis espacial\"\nbibliography: assets/biblio.bib\nformat: \n    revealjs:\n      echo: true\n      cache: false\n      center: true\n      fig-align: center\n      hash-type: number \n      slide-number: true\n      preview-links: auto\n      logo: \"assets/img/logos_para_fondo_oscuro.png\"\n      filters: \n        - \"assets/output-line-highlight.lua\"\n      theme: [default, assets/css/gulich.scss]\n      self-contained: true\nauthor: \n  - name:\n      given: Verónica\n      family: Andreo\n      dropping-particle: Dra.\n    email: veronica.andreo@ig.edu.ar\n    affiliations: \n      - name: Instituto Gulich\n      - name: CONICET\n  - name:\n      given: Pablo\n      family: Paccioretti\n      dropping-particle: Dr.\n    email: pablopaccioretti@agro.unc.edu.ar\n    affiliations: \n      - name: Instituto Gulich\n      - name: UNC - CONICET\ntitle-slide-attributes: \n  data-background-color: \"#1A428A\"\nfrom: markdown+emoji\neditor_options: \n  chunk_output_type: console\n---\n\n\n\n\n\n# Temas\n\n:::: {.columns}\n::: {.column width=\"48%\"}\n\n(@) Introducción a R\n(@) Manejo de datos espaciales con `sf`\n    + Lectura de archivos de diferentes formatos\n        - Base de datos de texto (`data.frame`)\n        - Geopackage\n        - Shapefile\n    + Manejo de objetos `sf`\n    + Proyección y reproyección\n:::\n\n::: {.column width=\"4%\"}\n\n:::\n\n::: {.column width=\"48%\"}\n(@) Manejo de bases de datos  `dplyr`\n(@) Visualización\n    + Paquete `ggplot2`\n    + Paquete `tmap`\n:::\n\n::::\n\n# Esta presentación y los datos están disponibles en\n\n[https://veroandreo.github.io/analisis_espacial/](https://veroandreo.github.io/analisis_espacial/)\n\n\n# GitHub {{< fa brands github >}}\n\n- GitHub es una plataforma de desarrollo colaborativo para alojar proyectos utilizando el sistema de control de versiones Git\n\n- El código de los proyectos alojados en GitHub se almacena típicamente de forma pública\n\n- En 2018, Microsoft compró GitHub por 7.500 millones de dólares\n\n---\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](assets/img/DescargarGithub.gif){width=84%}\n:::\n:::\n\n\nUna vez descargado, lo extraemos en una carpeta.\nAbrimos con RStudio el proyecto llamado **VisualizaciónDatosEspaciales.Rproj**\n\n---\n\n### Links de descarga\n\n:::: {.columns}\n\n::: {.column width=\"20%\"}\n\n- [R](https://cran.r-project.org/)\n- [RStudio](https://posit.co/downloads/)\n\n:::\n\n::: {.column width=\"5%\"}\n<!-- empty column to create gap -->\n:::\n\n::: {.column width=\"75%\"}\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](assets/img/AbrirProyectoyScript.gif){width=85%}\n:::\n:::\n\n\n:::\n\n::::\n\n\n# R e Interfaz con RStudio\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](assets/img/Rstudiopartes.jpg){width=80%}\n:::\n:::\n\n\n---\n\n## Sintaxis\n\n+ Los `#` indican comentarios en el código, todo lo que está a la derecha de este símbolo no será ejecutado.\n+ Si deseamos guardar un resultado de una función en un objeto, debemos utilizar la función de asignación `<-`.\n+ Argumentos de una functión se especifican entre paréntesis y están separados por coma: `NombreFuncion(arg1, arg2)`.\n+ R distingue mayúsculas y minúsculas.\n+ Caracteres especiales (espacios, tildes, signos) son reemplazados por punto (`.`) en nombres de columnas cuando se usan funciones del paquete base.\n+ Se recomienda evitar el uso de tildes, ñ, símbolos matemáticos para nombres de los niveles de factores, columnas y objetos.\n\n---\n\n## Ejemplos de código\n\n\n::: {.cell}\n\n```{.r .cell-code}\n2 + 2\nnormalAleatorio <- rnorm(10, mean = 0, sd = 1)\nnormalAleatorio\n## [1] 4\n##  [1] -1.02292593 -0.57989690  2.17369173  0.23261128  0.42604378 -0.93304683\n##  [7]  0.22128698 -0.04385321 -0.80428940  0.79975458\n```\n:::\n\n\n\n\n# Datos espaciales  {background-color=\"#1A428A\"}\n\n---\n\n## R-espacial\n- Hay numerosos paquetes para el manejo de datos espaciales `geoR`, `gstat`, `spdep`, `sf`, `stars`, `terra`, entre otros.\n- Los primeros procedimientos espaciales de R se originaron en el lenguaje S, en la década del 90 [@bivand_implementing_2000].\n- A partir del 2000, R ofrece paquetes que posibilitan el tratamiento de datos espaciales a través de diversos métodos. Algunos de ellos todavía se utilizan.\n- El paquete `sf` se basa en su predecesor `sp`.\n\n\n## Datos espaciales en R\n\n+ Los datos vectoriales, usando puntos, líneas y polígonos, permiten representar superficies {{< fa globe-americas >}}\n+ Los datos tipo *raster* divide la superficie en celdas (pixeles) de tamaño constante {{< fa th >}}\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](assets/img/SateliteTrabajando.gif){width=20%}\n:::\n:::\n\n\n---\n\n### Paquete `sf`\n\n*Simple features* es una manera estandarizada de codificar, en computadoras, \ndatos **vectoriales** (puntos {{< fa ellipsis-h >}}, \nlineas {{< fa solid lines-leaning >}} y polígonos {{< fa draw-polygon >}})\n\nEl paquete `sf` implementa *simple features* en R y conserva las mismas capacidades para el manejo de datos vectoriales como los paquetes `sp`, `rgeos` y `rgdal` [@Pebesma_RJ]\n\nEl manejo de objetos espaciales se convirtió en un proceso más simple y acorde a la lógica de programación de R\n\n\n---\n\n### Paquete `sf`\n::: {.incremental}\n\n- El paquete `sf` permite el análisis y el manejo de archivos con datos espaciales\n\n- Los objetos espaciales `sf` están almacenados como `data.frame`, donde los datos geográficos ocupan una columna especial (*geometry list-column*)\n\n- A partir de un objeto `sf` se puede obtener un `data.frame`, el cual tendrá una columna del tipo lista con la posición geográfica\n\n- Las funciones del paquete comienzan con `st_`\n\n- Los objetos espaciales `sf` pueden ser tratados como `data.frame` en la mayoría de las operaciones\n\n:::\n\n::: {.notes}\n- Tipos de objetos espaciales (Vectorial, Raster)\n- Lectura de diferentes tipos de archivos\n- Asignación del sistema de coordenadas\n    + Transformacion de cordenadas\n- Separar las coordenadas de los datos\n- Recortar capas en función de otra\n- Herramientas para el manejo de objetos\n    + Media, mediana de valores de punto dentro de poligono\n    + Conteo de puntos dentro de un poligono\n    + Union puntos, union diferentes capas\n\n:::\n\n--- \n\n### Paquete `terra`\n- Es compatible con objetos de tipo *raster* en R\n- Provee numerosas funciones para crear, leer, exportar, manipular y procesar datos de tipo *raster*\n- Permite trabajar con *raster* de dimensiones muy grandes para ser almacenados en la memoria RAM\n- Cada celda del archivo *raster*, puede contener un único valor (numérico o categórico)\n- Se pueden agrupar más de una capa en un mismo *raster*\n\n\n::: {.notes}\n\nEn vez de cargar todo el *raster* en la memoria RAM, tiene la posibilidad de dividirlo en fragmentos más pequeños y procesarlos de manera iterativa.\n\n:::\n\n\n## Sistema de coordenadas de referencia\n\n- Define cómo los elementos espaciales de los datos se relacionan con la superficie terrestre\n- Pueden ser\n    + Sistemas de coordenadas geográficas: Identifica cualquier punto de la superficie terrestre utilizando Latitud y Longitud\n    + Proyecciones: Basados en coordenadas cartesianas en una superficie plana (Ejemplo *UTM*)\n\n::: {.v-center-container}\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](assets/img/Proyecciones.gif){width=34%}\n:::\n:::\n\n\n:::\n\n# Manos a la obra {{< fa laptop-code >}} {background-color=\"#1A428A\"}\n\n## Lectura de archivos {{< fa database >}}\n\n- Desde archivo de *texto* (Muestreo de Suelo de la Provincia de Córdoba)\n- Desde un archivo *Shapefile* (.shp) (Cuencas de la Provincia de Córdoba)\n- Desde un archivo *GeoPackage* (.gpkg) (Departamentos de la Provincia de Córdoba)\n\n\n## Lectura de archivo de texto\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmuestreo <- read.table(\"datos/MuestreoSuelo.txt\", header = T, sep = \"\\t\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nmuestreo\n##           Xt      Yt Limo   CC    K\n## 1   603163.6 6576899 67.0 29.3 2.30\n## 2   596537.1 6390518 66.0 28.9 2.02\n## 3   595665.5 6380484 62.9 27.5 1.38\n## 4   601138.5 6353446 57.4 25.4 1.60\n## 5   601798.1 6344096 61.1 25.3 1.36\n## 6   587501.2 6615272 65.3 25.4 2.40\n## 7   589808.2 6593001 62.6 25.7 2.30\n## 8   585406.5 6575712 69.3 23.4 1.81\n## 9   584319.9 6552571 64.6 25.1 3.00\n## 10  582795.8 6536823 59.0 33.5 2.33\n## 11  578393.8 6514830 68.5 29.3 2.24\n## 12  583401.3 6415459 73.7 21.8 2.30\n## 13  584191.3 6397971 59.8 25.9 1.99\n## 14  581920.4 6376827 61.0 24.7 1.78\n## 15  577542.6 6355542 61.8 23.6 1.93\n## 16  584591.7 6335074 56.7 28.0 1.70\n## 17  580626.0 6317237 44.8 25.4 2.10\n## 18  562987.4 6573479 63.1 25.0 2.00\n## 19  566036.4 6556137 61.5 25.3 2.30\n## 20  562334.3 6536965 61.1 24.0 2.38\n## 21  559369.8 6522722 64.4 25.1 2.24\n## 22  560282.0 6498671 56.3 22.6 1.43\n## 23  560549.5 6488513 55.4 25.8 2.17\n## 24  564983.2 6460704 67.8 25.2 2.30\n## 25  562125.9 6417162 65.6 27.3 2.31\n## 26  562506.2 6396998 64.6 28.2 2.14\n## 27  561288.0 6377057 59.5 22.6 2.07\n## 28  558959.4 6356407 53.2 25.9 1.92\n## 29  565136.4 6336920 52.3 24.4 2.05\n## 30  561075.5 6317870 55.1 26.6 1.83\n## 31  560453.6 6296711 45.4 18.6 1.60\n## 32  561826.7 6277806 39.5 18.4 2.00\n## 33  540132.5 6572395 60.2 29.8 1.80\n## 34  540066.3 6554923 47.9 19.0 1.70\n## 35  540779.8 6533415 63.8 22.8 2.50\n## 36  540148.3 6525651 62.4 22.9 2.00\n## 37  544374.1 6494569 66.2 28.5 2.43\n## 38  538352.2 6481364 53.0 23.5 2.10\n## 39  537104.6 6461968 64.5 26.5 2.58\n## 40  532245.0 6442189 89.1 30.0 3.02\n## 41  541745.0 6421084 51.8 20.9 1.73\n## 42  539590.4 6394002 47.3 17.9 1.86\n## 43  548155.4 6373990 54.0 20.1 1.96\n## 44  540549.2 6359775 52.1 20.4 2.02\n## 45  545162.9 6334934 51.7 20.7 1.94\n## 46  543884.1 6320334 44.1 18.7 3.30\n## 47  541060.1 6295328 41.4 19.2 1.72\n## 48  534777.0 6267747 20.1 12.7 1.75\n## 49  548234.6 6259178 22.5 15.7 1.75\n## 50  517735.0 6571859 61.3 21.9 2.80\n## 51  521452.9 6557077 54.7 20.0 1.88\n## 52  518981.7 6539152 56.4 27.7 1.90\n## 53  516398.8 6523475 62.2 21.4 2.30\n## 54  526721.8 6505980 64.3 22.6 2.20\n## 55  521566.0 6479408 51.6 18.7 1.70\n## 56  517747.8 6451336 64.5 25.2 2.30\n## 57  520817.7 6423081 63.6 27.7 3.30\n## 58  521616.1 6394127 58.0 23.8 2.30\n## 59  523663.2 6374580 54.3 20.9 2.50\n## 60  522161.5 6361886 54.5 18.8 2.30\n## 61  523948.5 6338317 46.8 17.6 2.40\n## 62  522520.0 6315974 43.7 17.6 2.10\n## 63  521852.5 6296957 28.6 12.8 2.40\n## 64  527007.2 6280271 25.3 12.9 2.10\n## 65  515660.9 6259661 19.2 17.4 2.80\n## 66  521364.1 6242214 43.3 21.4 1.80\n## 67  519430.2 6208790 30.1 20.2 1.30\n## 68  497504.3 6595468 69.9 20.9 2.60\n## 69  498859.5 6582924 48.7 28.4 2.30\n## 70  496547.8 6554849 61.2 22.3 2.70\n## 71  502725.1 6522890 43.8 18.4 2.10\n## 72  504966.4 6496754 61.7 20.7 2.20\n## 73  493626.2 6469272 60.6 23.3 2.70\n## 74  503024.7 6459416 88.1 18.7 2.40\n## 75  491398.7 6442386 61.8 21.8 2.20\n## 76  501034.0 6417872 63.0 20.0 2.40\n## 77  503837.2 6399237 57.3 33.0 2.60\n## 78  500936.9 6377536 55.9 21.8 2.20\n## 79  494748.6 6356124 49.6 17.7 2.20\n## 80  500781.0 6333918 44.5 20.0 2.00\n## 81  490612.0 6315769 36.2 15.3 2.24\n## 82  499572.0 6292384 22.8 14.0 2.10\n## 83  505459.8 6279687 16.7 12.7 1.59\n## 84  495630.8 6254221 18.8 13.5 1.68\n## 85  502250.4 6228812 31.7 18.1 2.36\n## 86  500274.5 6213317 35.9 16.0 1.40\n## 87  501314.0 6200115 30.6 16.2 2.10\n## 88  470472.3 6684993 57.8 24.3 2.20\n## 89  467093.8 6665904 47.0 17.9 2.80\n## 90  480380.6 6596978 25.3 11.9 1.50\n## 91  478336.1 6581409 55.4 25.7 3.20\n## 92  478088.6 6555574 59.8 20.8 2.16\n## 93  472449.7 6531218 62.7 20.3 2.11\n## 94  479440.8 6520630 30.7 16.3 1.00\n## 95  480565.5 6497231 60.9 19.9 2.30\n## 96  481351.8 6454471 51.6 25.7 1.75\n## 97  480685.6 6433792 61.5 21.4 2.70\n## 98  480716.9 6417424 55.2 21.6 2.70\n## 99  477386.8 6397107 52.0 21.3 2.40\n## 100 477023.6 6378135 57.6 17.5 2.60\n## 101 478417.9 6357823 51.4 15.7 2.40\n## 102 480871.4 6337608 42.9 13.7 2.20\n## 103 472700.4 6317987 14.9 11.0 1.49\n## 104 481955.4 6299139 43.8 17.2 1.80\n## 105 481424.9 6268437 24.7 14.9 2.00\n## 106 476134.6 6246140 20.0 12.7 1.96\n## 107 487791.2 6235224 19.2 10.1 3.10\n## 108 479213.4 6220087 41.7 17.5 1.60\n## 109 478163.3 6197931 15.7  9.6 2.10\n## 110 452453.0 6685685 59.2 24.3 2.80\n## 111 454630.4 6650994 57.4 23.2 2.00\n## 112 454257.6 6632302 31.3 12.6 1.80\n## 113 463017.2 6617131 53.0 25.3 2.40\n## 114 459804.0 6596920 39.9 13.5 1.74\n## 115 459951.2 6581356 44.3 19.6 2.10\n## 116 462475.7 6557023 35.2 17.9 2.26\n## 117 456426.2 6528027 58.4 21.7 2.77\n## 118 462239.5 6500271 58.6 19.7 2.40\n## 119 457980.5 6478448 62.6 19.0 2.78\n## 120 460337.2 6457270 59.2 17.8 3.00\n## 121 460415.0 6437318 48.8 14.9 2.70\n## 122 459339.5 6416020 50.3 15.3 2.10\n## 123 457447.1 6401523 54.8 16.8 3.40\n## 124 460815.3 6380176 39.9 15.2 4.80\n## 125 465851.6 6355547 40.0 12.6 2.30\n## 126 464229.4 6338212 37.2 13.4 2.10\n## 127 450953.0 6311663 31.4 17.7 1.74\n## 128 465263.7 6296646 40.4 14.9 1.97\n## 129 460321.8 6275948 22.8 13.0 1.78\n## 130 456056.2 6258558 23.7 11.5 1.46\n## 131 459850.7 6238129 36.8 10.9 1.74\n## 132 460984.6 6218295 26.6 13.2 2.40\n## 133 460561.6 6198268 27.7 14.5 1.80\n## 134 456152.1 6175430 28.4 14.5 1.53\n## 135 459156.5 6159880 32.4 15.9 1.71\n## 136 448405.0 6145931 46.8 26.7 1.90\n## 137 429559.3 6713097 35.3 20.9 1.40\n## 138 431144.2 6693667 56.2 27.3 1.60\n## 139 441061.9 6675047 61.5 22.8 2.40\n## 140 433488.8 6656236 64.8 24.7 2.30\n## 141 430584.4 6631845 59.9 23.5 2.20\n## 142 439114.4 6616771 63.7 23.2 2.10\n## 143 439227.2 6596823 58.9 22.5 3.10\n## 144 444384.3 6572176 58.0 23.0 2.48\n## 145 439454.5 6556926 60.1 23.2 2.45\n## 146 439488.0 6534813 61.5 21.9 2.30\n## 147 442482.7 6521239 59.7 19.8 2.28\n## 148 437738.5 6502293 58.5 20.7 2.40\n## 149 437197.4 6476251 53.4 18.8 2.34\n## 150 440689.2 6459394 53.4 18.1 2.01\n## 151 440150.9 6437219 47.4 26.7 1.70\n## 152 436267.8 6422024 52.5 20.6 1.90\n## 153 443077.9 6398613 45.9 18.9 3.20\n## 154 435863.8 6379223 38.4 13.1 1.90\n## 155 446603.0 6357883  0.0 12.6 1.67\n## 156 442929.0 6343522 26.5 12.1 1.75\n## 157 439491.9 6318077 12.8 10.0 1.33\n## 158 431151.7 6297512 20.0 14.9 1.95\n## 159 440484.8 6275979 19.8 10.8 1.47\n## 160 440098.6 6250709 30.1 12.1 1.45\n## 161 443317.3 6244373 12.3 12.5 1.64\n## 162 440967.5 6227407 29.3 16.2 1.50\n## 163 438685.1 6206640 34.9 19.0 1.60\n## 164 440748.3 6181170 24.4 15.7 1.60\n## 165 435022.6 6151497 20.9 13.8 1.60\n## 166 445299.8 6133188 28.7 17.9 1.70\n## 167 409646.2 6716651 33.7 19.3 1.40\n## 168 414484.4 6691598 26.9 13.2 1.58\n## 169 418050.8 6676478 43.9 22.1 1.30\n## 170 414909.6 6656061 58.0 21.9 2.20\n## 171 415617.6 6642029 56.1 20.6 2.00\n## 172 423666.9 6616209 58.0 25.9 2.50\n## 173 418240.5 6593812 54.5 23.7 1.90\n## 174 414895.0 6575416 61.9 22.4 2.28\n## 175 408415.6 6559531 58.1 26.5 2.30\n## 176 419639.8 6535327 62.4 21.1 2.00\n## 177 418820.7 6517895 57.7 19.5 2.50\n## 178 419416.8 6496936 53.1 21.7 2.50\n## 179 420262.1 6480316 59.2 19.8 2.10\n## 180 419729.1 6457032 55.6 15.4 1.70\n## 181 419886.4 6437079  0.0 10.2 0.80\n## 182 422555.7 6416999 46.6 20.2 1.50\n## 183 424187.6 6394253 36.1 17.8 2.02\n## 184 420123.2 6377094 35.1 19.1 1.70\n## 185 416997.7 6363302 19.9 10.0 1.42\n## 186 425171.0 6344753 22.0 13.9 2.40\n## 187 417917.2 6326746 38.5 22.6 2.91\n## 188 423547.6 6312202 19.8 12.7 1.54\n## 189 420675.5 6277073 26.3 13.1 1.87\n## 190 432630.4 6256211 20.8 13.3 1.72\n## 191 415059.8 6233151 28.7 17.1 1.70\n## 192 415498.8 6218453 18.4 12.2 1.70\n## 193 413075.1 6197490 15.5 12.4 1.50\n## 194 421888.2 6180592 18.2 13.9 1.50\n## 195 414970.2 6156712 14.8 12.2 1.60\n## 196 415114.3 6136351 24.6 15.1 2.20\n## 197 393546.6 6719911 15.9 19.3 1.00\n## 198 401410.3 6690743   NA   NA   NA\n## 199 400509.7 6673860 35.8 18.2 1.00\n## 200 388211.0 6657912 22.9  9.6 0.70\n## 201 397694.8 6636409 55.4 20.2 1.70\n## 202 401699.9 6616496 49.4 19.3 2.49\n## 203 398072.1 6596511 49.0 20.4 1.90\n## 204 398262.3 6576561 42.4 16.4 1.30\n## 205 391757.1 6558627 56.3 24.5 2.10\n## 206 399062.8 6541124 59.0 19.2 2.10\n## 207 402114.3 6516158 59.2 22.7 2.10\n## 208 399184.9 6498206 53.8 19.0 1.80\n## 209 393818.3 6473953 60.0 18.5 2.58\n## 210 390997.4 6456296 44.4 16.6 1.80\n## 211 399621.5 6436898 30.8 11.6 1.40\n## 212 398740.7 6419518 46.8 18.9 1.72\n## 213 406077.5 6399415 39.3 16.3 1.73\n## 214 401547.6 6373100  9.6 10.1 1.36\n## 215 401702.3 6355989 20.6 11.5 1.30\n## 216 406179.8 6343827 18.8 10.8 1.53\n## 217 407790.9 6317412 20.6 11.9 1.57\n## 218 409014.6 6295734 26.7 12.7 1.77\n## 219 401905.3 6279374 24.7 15.3 1.80\n## 220 401472.9 6255903 26.0 17.7 2.20\n## 221 398589.2 6235905 29.3 13.6 1.90\n## 222 402509.3 6212629 23.2 16.1 1.90\n## 223 393126.7 6195885 13.6 12.0 1.50\n## 224 400762.9 6181513 19.7 14.5 1.90\n## 225 394375.2 6156445 18.9 11.3 1.60\n## 226 400352.3 6138834 23.2 10.9 1.80\n## 227 375837.0 6714323 49.2 26.6 1.10\n## 228 381213.8 6709304 38.3 19.0 1.10\n## 229 365386.8 6695978 51.6 26.4 1.90\n## 230 388733.8 6667326   NA   NA   NA\n## 231 377040.0 6636195 35.0 19.6 1.80\n## 232 382613.1 6619021 49.3 19.7 1.80\n## 233 379647.2 6574478 20.7 16.9 1.30\n## 234 377952.0 6556394 20.5 15.1 0.60\n## 235 379858.9 6542664 53.1 23.0 2.18\n## 236 379912.8 6513835 60.7 25.1 2.50\n## 237 378648.6 6496538 67.4 26.8 2.50\n## 238 378883.2 6476585 54.9 23.1 2.10\n## 239 373300.2 6454149 59.8 20.8 1.70\n## 240 379356.0 6436677 53.6 26.5 2.00\n## 241 376539.5 6419165 15.8  6.3 0.50\n## 242 374614.2 6394682 36.1 15.9 1.50\n## 243 378122.0 6374189 23.1 11.0 1.60\n## 244 371612.3 6361513 40.0 18.9 2.30\n## 245 383588.6 6341233 41.7 23.9 2.90\n## 246 374332.4 6317590 31.9 18.7 2.30\n## 247 381633.0 6292313 26.4 10.0 2.00\n## 248 384814.0 6282948 15.2  8.7 1.60\n## 249 377971.7 6258673 11.5  8.9 1.80\n## 250 378353.9 6241497 18.8 10.2 1.70\n## 251 385668.5 6223915 15.6 10.1 1.30\n## 252 372920.8 6201697 10.7  9.7 1.50\n## 253 373822.7 6168505 10.6 12.7 2.40\n## 254 374283.5 6155857 17.6 11.4 2.00\n## 255 379627.0 6134719 58.2 15.2 2.20\n## 256 348711.8 6711924 15.4 15.6 0.90\n## 257 358202.9 6708195 31.1 13.7 1.40\n## 258 362072.5 6681197 29.0 17.2 0.90\n## 259 355738.7 6657258 27.9 13.6 1.40\n## 260 356043.7 6636299 29.0 19.9 1.00\n## 261 357028.1 6627659 41.5 22.8 1.70\n## 262 357836.5 6595032 26.6 27.8 1.09\n## 263 357181.3 6576089 19.1 20.0 0.70\n## 264 357460.4 6556071 20.1 16.1 0.40\n## 265 357799.4 6535105 15.5 15.3 0.50\n## 266 363571.9 6515526 50.8 21.7 2.00\n## 267 366450.7 6494150 32.8 17.6 1.10\n## 268 358491.9 6479635 48.7 21.5 1.40\n## 269 364859.8 6456431 48.0 16.9 1.70\n## 270 352374.6 6437236 47.2 22.2 1.70\n## 271 360020.4 6412716 32.2 14.3 2.20\n## 272 360639.9 6397543 42.5 14.2 1.40\n## 273 363104.2 6380446 46.1 13.5 1.40\n## 274 363949.4 6366384 36.6 13.2 1.50\n## 275 360297.2 6339369 36.3 20.8 2.40\n## 276 358906.9 6318191 22.9 12.8 2.40\n## 277 368023.8 6297300 31.9 15.2 3.00\n## 278 356796.3 6281601 24.7 15.1 1.60\n## 279 360840.7 6258420 26.6 16.1 1.80\n## 280 357728.1 6243261 11.6  8.2 1.10\n## 281 365059.0 6217702  4.0  5.5 1.20\n## 282 372915.4 6201693 12.4  7.2 1.50\n## 283 369232.8 6178825 10.5 10.2 1.90\n## 284 354127.0 6154878 15.4  8.4 2.00\n## 285 364634.4 6141008 10.6  7.7 2.20\n## 286 322034.1 6722199 44.0 27.3 1.90\n## 287 336988.4 6702457 33.9 13.2 1.60\n## 288 342934.9 6678617 21.0  8.4 1.10\n## 289 333942.3 6663125 39.0 20.5 1.85\n## 290 339487.4 6636141 30.0 17.8 1.40\n## 291 351274.0 6477363 58.2 34.0 1.90\n## 292 340122.0 6459510 52.3 26.7 0.80\n## 293 358358.8 6422919 48.1 14.2 2.10\n## 294 348091.4 6386836 47.9 13.1 1.90\n## 295 338135.2 6376681 43.4 20.9 1.70\n## 296 335929.7 6354151 49.1 30.6 2.50\n## 297 338757.8 6338937 28.2 18.3 2.00\n## 298 348477.5 6320510 14.6  9.3 1.50\n## 299 343471.4 6292974 30.3 14.9 1.50\n## 300 331109.7 6247386  8.8  7.5 1.10\n## 301 342413.3 6226849 11.2  8.6 1.40\n## 302 342963.0 6193915  9.9  7.1 1.50\n## 303 343616.1 6170952 13.7  5.0 1.50\n## 304 336324.5 6164347  0.0  6.6 1.70\n## 305 344720.9 6134254  0.0 12.1 2.10\n## 306 314936.8 6654862 26.7 10.3 1.10\n## 307 326153.8 6628397 28.4 14.4 1.30\n## 308 315026.9 6615022 18.0 10.2 1.29\n## 309 318722.8 6592813 22.9 12.7 1.00\n## 310 302508.5 6573027 57.8 27.8 3.30\n## 311 310568.5 6517139 40.4 22.0 0.80\n## 312 316152.5 6474608 46.1  9.6 1.80\n## 313 304247.8 6459885 28.3 13.2 2.40\n## 314 307888.3 6436238 36.9 15.0 0.80\n## 315 326290.2 6358537 52.1 24.2 1.50\n## 316 323251.7 6333011 17.7 11.7 0.60\n## 317 323107.8 6317898 13.4 11.7 1.60\n## 318 323918.5 6296467 13.4  9.0 1.20\n## 319 313421.1 6284488 12.8  9.6 1.70\n## 320 311319.3 6250934  9.2  6.0 1.30\n## 321 316141.0 6234887 17.5 10.9 1.40\n## 322 312199.4 6218220 12.2  8.5 1.70\n## 323 322774.6 6196569  7.7  5.3 1.30\n## 324 313315.5 6173792  7.1  6.8 1.40\n## 325 314626.1 6153624  5.1  6.9 1.20\n## 326 314547.3 6135107 23.5 12.2 1.50\n## 327 303239.8 6620640 21.5 14.4 1.40\n## 328 292241.2 6594051 29.3 16.0 2.00\n## 329 304823.8 6586070 38.9 15.7 1.21\n## 330 299754.1 6554098 41.7 15.3 0.86\n## 331 299158.8 6536651 33.4 17.3 1.10\n## 332 292274.0 6516662 14.2  6.9 1.03\n## 333 300315.6 6496947 56.8 22.6 1.10\n## 334 295007.2 6475754 47.8 19.3 1.20\n## 335 295427.5 6437040 28.8 14.4 1.50\n## 336 300698.5 6315618 11.1  8.4 1.10\n## 337 256689.0 6610529 39.0 12.5 1.10\n## 338 271612.2 6610072 33.9 14.2 1.10\n## 339 278760.3 6590394 31.3 16.4 1.50\n## 340 273995.8 6573165 25.9 11.3 0.60\n## 341 284724.4 6544882 55.3 21.1 0.60\n## 342 281465.5 6528077 18.7  9.1 0.60\n## 343 270532.2 6513493 29.3 14.1 1.00\n## 344 281067.8 6495186 28.0 10.0 1.10\n## 345 270093.9 6473571 46.2 17.1 2.10\n## 346 277578.3 6454923 29.7 10.5 0.80\n## 347 257921.1 6610371 33.0 14.3 1.60\n## 348 246082.7 6589469 38.5 17.1 1.50\n## 349 250409.8 6572978 30.6 10.2 1.20\n## 350 235888.3 6553601 40.2 14.0 1.30\n## 351 251686.1 6530851 26.3 11.5 0.90\n## 352 251673.6 6518741 23.8 10.5 0.80\n## 353 260311.3 6503994 31.3 16.1 1.40\n## 354 244261.6 6468475 33.2 17.0 2.70\n## 355 259768.2 6551776 15.0  7.3 1.30\n```\n:::\n\n\n# Paquete `ggplot2`\n\nIdividualmente se especifican partes del gráfico. Luego estas partes\nse combinan para obtener el gráfico completo. Estas partes son:\n\n- Datos\n- Mapeo estético (*aesthetic mapping*)\n- Objetos geométricos (*geometric object*)\n- Transformaciones estadísticas (*statistical transformations*)\n- Escalas (*scales*)\n- Sistema de coordenadas (*coordinate system*)\n- Ajustes de posición (*position adjustments*)\n- Particiones (*faceting*)\n\n---\n\n## Gráficos usando `ggplot2` {auto-animate=\"true\"}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot()\n```\n\n::: {.cell-output-display}\n![](introduccion_r_espacial_files/figure-revealjs/unnamed-chunk-9-1.png){width=960}\n:::\n:::\n\n\n## Gráficos usando `ggplot2` {auto-animate=\"true\"}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(muestreo)\n```\n\n::: {.cell-output-display}\n![](introduccion_r_espacial_files/figure-revealjs/unnamed-chunk-10-1.png){width=960}\n:::\n:::\n\n\n## Gráficos usando `ggplot2` {auto-animate=\"true\"}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(muestreo, aes(Limo))\n```\n\n::: {.cell-output-display}\n![](introduccion_r_espacial_files/figure-revealjs/unnamed-chunk-11-1.png){width=960}\n:::\n:::\n\n\n## Gráficos usando `ggplot2` {auto-animate=\"true\"}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(muestreo, aes(Limo)) +\n  geom_histogram()\n```\n\n::: {.cell-output-display}\n![](introduccion_r_espacial_files/figure-revealjs/unnamed-chunk-12-1.png){width=960}\n:::\n:::\n\n\n# Paquete `dplyr`\n\n`dplyr` fue diseñado para la manipulación y transformación de datos de una manera sencilla y eficiente.\n\n**Manipulación de datos verbales:** dplyr se basa en \"verbos\" de manipulación de datos, como `filter`, `mutate`, `summarize`, y `group_by`, lo que simplifica la manipulación de datos en pasos lógicos.\n\n\n## Manejo de bases de datos {auto-animate=\"true\"}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(dplyr)\n\nmuestreo |>\n  mutate(mediaLimo = mean(Limo, na.rm = TRUE))\n##           Xt      Yt Limo   CC    K mediaLimo\n## 1   603163.6 6576899 67.0 29.3 2.30  39.58867\n## 2   596537.1 6390518 66.0 28.9 2.02  39.58867\n## 3   595665.5 6380484 62.9 27.5 1.38  39.58867\n## 4   601138.5 6353446 57.4 25.4 1.60  39.58867\n## 5   601798.1 6344096 61.1 25.3 1.36  39.58867\n## 6   587501.2 6615272 65.3 25.4 2.40  39.58867\n## 7   589808.2 6593001 62.6 25.7 2.30  39.58867\n## 8   585406.5 6575712 69.3 23.4 1.81  39.58867\n## 9   584319.9 6552571 64.6 25.1 3.00  39.58867\n## 10  582795.8 6536823 59.0 33.5 2.33  39.58867\n## 11  578393.8 6514830 68.5 29.3 2.24  39.58867\n## 12  583401.3 6415459 73.7 21.8 2.30  39.58867\n## 13  584191.3 6397971 59.8 25.9 1.99  39.58867\n## 14  581920.4 6376827 61.0 24.7 1.78  39.58867\n## 15  577542.6 6355542 61.8 23.6 1.93  39.58867\n## 16  584591.7 6335074 56.7 28.0 1.70  39.58867\n## 17  580626.0 6317237 44.8 25.4 2.10  39.58867\n## 18  562987.4 6573479 63.1 25.0 2.00  39.58867\n## 19  566036.4 6556137 61.5 25.3 2.30  39.58867\n## 20  562334.3 6536965 61.1 24.0 2.38  39.58867\n## 21  559369.8 6522722 64.4 25.1 2.24  39.58867\n## 22  560282.0 6498671 56.3 22.6 1.43  39.58867\n## 23  560549.5 6488513 55.4 25.8 2.17  39.58867\n## 24  564983.2 6460704 67.8 25.2 2.30  39.58867\n## 25  562125.9 6417162 65.6 27.3 2.31  39.58867\n## 26  562506.2 6396998 64.6 28.2 2.14  39.58867\n## 27  561288.0 6377057 59.5 22.6 2.07  39.58867\n## 28  558959.4 6356407 53.2 25.9 1.92  39.58867\n## 29  565136.4 6336920 52.3 24.4 2.05  39.58867\n## 30  561075.5 6317870 55.1 26.6 1.83  39.58867\n## 31  560453.6 6296711 45.4 18.6 1.60  39.58867\n## 32  561826.7 6277806 39.5 18.4 2.00  39.58867\n## 33  540132.5 6572395 60.2 29.8 1.80  39.58867\n## 34  540066.3 6554923 47.9 19.0 1.70  39.58867\n## 35  540779.8 6533415 63.8 22.8 2.50  39.58867\n## 36  540148.3 6525651 62.4 22.9 2.00  39.58867\n## 37  544374.1 6494569 66.2 28.5 2.43  39.58867\n## 38  538352.2 6481364 53.0 23.5 2.10  39.58867\n## 39  537104.6 6461968 64.5 26.5 2.58  39.58867\n## 40  532245.0 6442189 89.1 30.0 3.02  39.58867\n## 41  541745.0 6421084 51.8 20.9 1.73  39.58867\n## 42  539590.4 6394002 47.3 17.9 1.86  39.58867\n## 43  548155.4 6373990 54.0 20.1 1.96  39.58867\n## 44  540549.2 6359775 52.1 20.4 2.02  39.58867\n## 45  545162.9 6334934 51.7 20.7 1.94  39.58867\n## 46  543884.1 6320334 44.1 18.7 3.30  39.58867\n## 47  541060.1 6295328 41.4 19.2 1.72  39.58867\n## 48  534777.0 6267747 20.1 12.7 1.75  39.58867\n## 49  548234.6 6259178 22.5 15.7 1.75  39.58867\n## 50  517735.0 6571859 61.3 21.9 2.80  39.58867\n## 51  521452.9 6557077 54.7 20.0 1.88  39.58867\n## 52  518981.7 6539152 56.4 27.7 1.90  39.58867\n## 53  516398.8 6523475 62.2 21.4 2.30  39.58867\n## 54  526721.8 6505980 64.3 22.6 2.20  39.58867\n## 55  521566.0 6479408 51.6 18.7 1.70  39.58867\n## 56  517747.8 6451336 64.5 25.2 2.30  39.58867\n## 57  520817.7 6423081 63.6 27.7 3.30  39.58867\n## 58  521616.1 6394127 58.0 23.8 2.30  39.58867\n## 59  523663.2 6374580 54.3 20.9 2.50  39.58867\n## 60  522161.5 6361886 54.5 18.8 2.30  39.58867\n## 61  523948.5 6338317 46.8 17.6 2.40  39.58867\n## 62  522520.0 6315974 43.7 17.6 2.10  39.58867\n## 63  521852.5 6296957 28.6 12.8 2.40  39.58867\n## 64  527007.2 6280271 25.3 12.9 2.10  39.58867\n## 65  515660.9 6259661 19.2 17.4 2.80  39.58867\n## 66  521364.1 6242214 43.3 21.4 1.80  39.58867\n## 67  519430.2 6208790 30.1 20.2 1.30  39.58867\n## 68  497504.3 6595468 69.9 20.9 2.60  39.58867\n## 69  498859.5 6582924 48.7 28.4 2.30  39.58867\n## 70  496547.8 6554849 61.2 22.3 2.70  39.58867\n## 71  502725.1 6522890 43.8 18.4 2.10  39.58867\n## 72  504966.4 6496754 61.7 20.7 2.20  39.58867\n## 73  493626.2 6469272 60.6 23.3 2.70  39.58867\n## 74  503024.7 6459416 88.1 18.7 2.40  39.58867\n## 75  491398.7 6442386 61.8 21.8 2.20  39.58867\n## 76  501034.0 6417872 63.0 20.0 2.40  39.58867\n## 77  503837.2 6399237 57.3 33.0 2.60  39.58867\n## 78  500936.9 6377536 55.9 21.8 2.20  39.58867\n## 79  494748.6 6356124 49.6 17.7 2.20  39.58867\n## 80  500781.0 6333918 44.5 20.0 2.00  39.58867\n## 81  490612.0 6315769 36.2 15.3 2.24  39.58867\n## 82  499572.0 6292384 22.8 14.0 2.10  39.58867\n## 83  505459.8 6279687 16.7 12.7 1.59  39.58867\n## 84  495630.8 6254221 18.8 13.5 1.68  39.58867\n## 85  502250.4 6228812 31.7 18.1 2.36  39.58867\n## 86  500274.5 6213317 35.9 16.0 1.40  39.58867\n## 87  501314.0 6200115 30.6 16.2 2.10  39.58867\n## 88  470472.3 6684993 57.8 24.3 2.20  39.58867\n## 89  467093.8 6665904 47.0 17.9 2.80  39.58867\n## 90  480380.6 6596978 25.3 11.9 1.50  39.58867\n## 91  478336.1 6581409 55.4 25.7 3.20  39.58867\n## 92  478088.6 6555574 59.8 20.8 2.16  39.58867\n## 93  472449.7 6531218 62.7 20.3 2.11  39.58867\n## 94  479440.8 6520630 30.7 16.3 1.00  39.58867\n## 95  480565.5 6497231 60.9 19.9 2.30  39.58867\n## 96  481351.8 6454471 51.6 25.7 1.75  39.58867\n## 97  480685.6 6433792 61.5 21.4 2.70  39.58867\n## 98  480716.9 6417424 55.2 21.6 2.70  39.58867\n## 99  477386.8 6397107 52.0 21.3 2.40  39.58867\n## 100 477023.6 6378135 57.6 17.5 2.60  39.58867\n## 101 478417.9 6357823 51.4 15.7 2.40  39.58867\n## 102 480871.4 6337608 42.9 13.7 2.20  39.58867\n## 103 472700.4 6317987 14.9 11.0 1.49  39.58867\n## 104 481955.4 6299139 43.8 17.2 1.80  39.58867\n## 105 481424.9 6268437 24.7 14.9 2.00  39.58867\n## 106 476134.6 6246140 20.0 12.7 1.96  39.58867\n## 107 487791.2 6235224 19.2 10.1 3.10  39.58867\n## 108 479213.4 6220087 41.7 17.5 1.60  39.58867\n## 109 478163.3 6197931 15.7  9.6 2.10  39.58867\n## 110 452453.0 6685685 59.2 24.3 2.80  39.58867\n## 111 454630.4 6650994 57.4 23.2 2.00  39.58867\n## 112 454257.6 6632302 31.3 12.6 1.80  39.58867\n## 113 463017.2 6617131 53.0 25.3 2.40  39.58867\n## 114 459804.0 6596920 39.9 13.5 1.74  39.58867\n## 115 459951.2 6581356 44.3 19.6 2.10  39.58867\n## 116 462475.7 6557023 35.2 17.9 2.26  39.58867\n## 117 456426.2 6528027 58.4 21.7 2.77  39.58867\n## 118 462239.5 6500271 58.6 19.7 2.40  39.58867\n## 119 457980.5 6478448 62.6 19.0 2.78  39.58867\n## 120 460337.2 6457270 59.2 17.8 3.00  39.58867\n## 121 460415.0 6437318 48.8 14.9 2.70  39.58867\n## 122 459339.5 6416020 50.3 15.3 2.10  39.58867\n## 123 457447.1 6401523 54.8 16.8 3.40  39.58867\n## 124 460815.3 6380176 39.9 15.2 4.80  39.58867\n## 125 465851.6 6355547 40.0 12.6 2.30  39.58867\n## 126 464229.4 6338212 37.2 13.4 2.10  39.58867\n## 127 450953.0 6311663 31.4 17.7 1.74  39.58867\n## 128 465263.7 6296646 40.4 14.9 1.97  39.58867\n## 129 460321.8 6275948 22.8 13.0 1.78  39.58867\n## 130 456056.2 6258558 23.7 11.5 1.46  39.58867\n## 131 459850.7 6238129 36.8 10.9 1.74  39.58867\n## 132 460984.6 6218295 26.6 13.2 2.40  39.58867\n## 133 460561.6 6198268 27.7 14.5 1.80  39.58867\n## 134 456152.1 6175430 28.4 14.5 1.53  39.58867\n## 135 459156.5 6159880 32.4 15.9 1.71  39.58867\n## 136 448405.0 6145931 46.8 26.7 1.90  39.58867\n## 137 429559.3 6713097 35.3 20.9 1.40  39.58867\n## 138 431144.2 6693667 56.2 27.3 1.60  39.58867\n## 139 441061.9 6675047 61.5 22.8 2.40  39.58867\n## 140 433488.8 6656236 64.8 24.7 2.30  39.58867\n## 141 430584.4 6631845 59.9 23.5 2.20  39.58867\n## 142 439114.4 6616771 63.7 23.2 2.10  39.58867\n## 143 439227.2 6596823 58.9 22.5 3.10  39.58867\n## 144 444384.3 6572176 58.0 23.0 2.48  39.58867\n## 145 439454.5 6556926 60.1 23.2 2.45  39.58867\n## 146 439488.0 6534813 61.5 21.9 2.30  39.58867\n## 147 442482.7 6521239 59.7 19.8 2.28  39.58867\n## 148 437738.5 6502293 58.5 20.7 2.40  39.58867\n## 149 437197.4 6476251 53.4 18.8 2.34  39.58867\n## 150 440689.2 6459394 53.4 18.1 2.01  39.58867\n## 151 440150.9 6437219 47.4 26.7 1.70  39.58867\n## 152 436267.8 6422024 52.5 20.6 1.90  39.58867\n## 153 443077.9 6398613 45.9 18.9 3.20  39.58867\n## 154 435863.8 6379223 38.4 13.1 1.90  39.58867\n## 155 446603.0 6357883  0.0 12.6 1.67  39.58867\n## 156 442929.0 6343522 26.5 12.1 1.75  39.58867\n## 157 439491.9 6318077 12.8 10.0 1.33  39.58867\n## 158 431151.7 6297512 20.0 14.9 1.95  39.58867\n## 159 440484.8 6275979 19.8 10.8 1.47  39.58867\n## 160 440098.6 6250709 30.1 12.1 1.45  39.58867\n## 161 443317.3 6244373 12.3 12.5 1.64  39.58867\n## 162 440967.5 6227407 29.3 16.2 1.50  39.58867\n## 163 438685.1 6206640 34.9 19.0 1.60  39.58867\n## 164 440748.3 6181170 24.4 15.7 1.60  39.58867\n## 165 435022.6 6151497 20.9 13.8 1.60  39.58867\n## 166 445299.8 6133188 28.7 17.9 1.70  39.58867\n## 167 409646.2 6716651 33.7 19.3 1.40  39.58867\n## 168 414484.4 6691598 26.9 13.2 1.58  39.58867\n## 169 418050.8 6676478 43.9 22.1 1.30  39.58867\n## 170 414909.6 6656061 58.0 21.9 2.20  39.58867\n## 171 415617.6 6642029 56.1 20.6 2.00  39.58867\n## 172 423666.9 6616209 58.0 25.9 2.50  39.58867\n## 173 418240.5 6593812 54.5 23.7 1.90  39.58867\n## 174 414895.0 6575416 61.9 22.4 2.28  39.58867\n## 175 408415.6 6559531 58.1 26.5 2.30  39.58867\n## 176 419639.8 6535327 62.4 21.1 2.00  39.58867\n## 177 418820.7 6517895 57.7 19.5 2.50  39.58867\n## 178 419416.8 6496936 53.1 21.7 2.50  39.58867\n## 179 420262.1 6480316 59.2 19.8 2.10  39.58867\n## 180 419729.1 6457032 55.6 15.4 1.70  39.58867\n## 181 419886.4 6437079  0.0 10.2 0.80  39.58867\n## 182 422555.7 6416999 46.6 20.2 1.50  39.58867\n## 183 424187.6 6394253 36.1 17.8 2.02  39.58867\n## 184 420123.2 6377094 35.1 19.1 1.70  39.58867\n## 185 416997.7 6363302 19.9 10.0 1.42  39.58867\n## 186 425171.0 6344753 22.0 13.9 2.40  39.58867\n## 187 417917.2 6326746 38.5 22.6 2.91  39.58867\n## 188 423547.6 6312202 19.8 12.7 1.54  39.58867\n## 189 420675.5 6277073 26.3 13.1 1.87  39.58867\n## 190 432630.4 6256211 20.8 13.3 1.72  39.58867\n## 191 415059.8 6233151 28.7 17.1 1.70  39.58867\n## 192 415498.8 6218453 18.4 12.2 1.70  39.58867\n## 193 413075.1 6197490 15.5 12.4 1.50  39.58867\n## 194 421888.2 6180592 18.2 13.9 1.50  39.58867\n## 195 414970.2 6156712 14.8 12.2 1.60  39.58867\n## 196 415114.3 6136351 24.6 15.1 2.20  39.58867\n## 197 393546.6 6719911 15.9 19.3 1.00  39.58867\n## 198 401410.3 6690743   NA   NA   NA  39.58867\n## 199 400509.7 6673860 35.8 18.2 1.00  39.58867\n## 200 388211.0 6657912 22.9  9.6 0.70  39.58867\n## 201 397694.8 6636409 55.4 20.2 1.70  39.58867\n## 202 401699.9 6616496 49.4 19.3 2.49  39.58867\n## 203 398072.1 6596511 49.0 20.4 1.90  39.58867\n## 204 398262.3 6576561 42.4 16.4 1.30  39.58867\n## 205 391757.1 6558627 56.3 24.5 2.10  39.58867\n## 206 399062.8 6541124 59.0 19.2 2.10  39.58867\n## 207 402114.3 6516158 59.2 22.7 2.10  39.58867\n## 208 399184.9 6498206 53.8 19.0 1.80  39.58867\n## 209 393818.3 6473953 60.0 18.5 2.58  39.58867\n## 210 390997.4 6456296 44.4 16.6 1.80  39.58867\n## 211 399621.5 6436898 30.8 11.6 1.40  39.58867\n## 212 398740.7 6419518 46.8 18.9 1.72  39.58867\n## 213 406077.5 6399415 39.3 16.3 1.73  39.58867\n## 214 401547.6 6373100  9.6 10.1 1.36  39.58867\n## 215 401702.3 6355989 20.6 11.5 1.30  39.58867\n## 216 406179.8 6343827 18.8 10.8 1.53  39.58867\n## 217 407790.9 6317412 20.6 11.9 1.57  39.58867\n## 218 409014.6 6295734 26.7 12.7 1.77  39.58867\n## 219 401905.3 6279374 24.7 15.3 1.80  39.58867\n## 220 401472.9 6255903 26.0 17.7 2.20  39.58867\n## 221 398589.2 6235905 29.3 13.6 1.90  39.58867\n## 222 402509.3 6212629 23.2 16.1 1.90  39.58867\n## 223 393126.7 6195885 13.6 12.0 1.50  39.58867\n## 224 400762.9 6181513 19.7 14.5 1.90  39.58867\n## 225 394375.2 6156445 18.9 11.3 1.60  39.58867\n## 226 400352.3 6138834 23.2 10.9 1.80  39.58867\n## 227 375837.0 6714323 49.2 26.6 1.10  39.58867\n## 228 381213.8 6709304 38.3 19.0 1.10  39.58867\n## 229 365386.8 6695978 51.6 26.4 1.90  39.58867\n## 230 388733.8 6667326   NA   NA   NA  39.58867\n## 231 377040.0 6636195 35.0 19.6 1.80  39.58867\n## 232 382613.1 6619021 49.3 19.7 1.80  39.58867\n## 233 379647.2 6574478 20.7 16.9 1.30  39.58867\n## 234 377952.0 6556394 20.5 15.1 0.60  39.58867\n## 235 379858.9 6542664 53.1 23.0 2.18  39.58867\n## 236 379912.8 6513835 60.7 25.1 2.50  39.58867\n## 237 378648.6 6496538 67.4 26.8 2.50  39.58867\n## 238 378883.2 6476585 54.9 23.1 2.10  39.58867\n## 239 373300.2 6454149 59.8 20.8 1.70  39.58867\n## 240 379356.0 6436677 53.6 26.5 2.00  39.58867\n## 241 376539.5 6419165 15.8  6.3 0.50  39.58867\n## 242 374614.2 6394682 36.1 15.9 1.50  39.58867\n## 243 378122.0 6374189 23.1 11.0 1.60  39.58867\n## 244 371612.3 6361513 40.0 18.9 2.30  39.58867\n## 245 383588.6 6341233 41.7 23.9 2.90  39.58867\n## 246 374332.4 6317590 31.9 18.7 2.30  39.58867\n## 247 381633.0 6292313 26.4 10.0 2.00  39.58867\n## 248 384814.0 6282948 15.2  8.7 1.60  39.58867\n## 249 377971.7 6258673 11.5  8.9 1.80  39.58867\n## 250 378353.9 6241497 18.8 10.2 1.70  39.58867\n## 251 385668.5 6223915 15.6 10.1 1.30  39.58867\n## 252 372920.8 6201697 10.7  9.7 1.50  39.58867\n## 253 373822.7 6168505 10.6 12.7 2.40  39.58867\n## 254 374283.5 6155857 17.6 11.4 2.00  39.58867\n## 255 379627.0 6134719 58.2 15.2 2.20  39.58867\n## 256 348711.8 6711924 15.4 15.6 0.90  39.58867\n## 257 358202.9 6708195 31.1 13.7 1.40  39.58867\n## 258 362072.5 6681197 29.0 17.2 0.90  39.58867\n## 259 355738.7 6657258 27.9 13.6 1.40  39.58867\n## 260 356043.7 6636299 29.0 19.9 1.00  39.58867\n## 261 357028.1 6627659 41.5 22.8 1.70  39.58867\n## 262 357836.5 6595032 26.6 27.8 1.09  39.58867\n## 263 357181.3 6576089 19.1 20.0 0.70  39.58867\n## 264 357460.4 6556071 20.1 16.1 0.40  39.58867\n## 265 357799.4 6535105 15.5 15.3 0.50  39.58867\n## 266 363571.9 6515526 50.8 21.7 2.00  39.58867\n## 267 366450.7 6494150 32.8 17.6 1.10  39.58867\n## 268 358491.9 6479635 48.7 21.5 1.40  39.58867\n## 269 364859.8 6456431 48.0 16.9 1.70  39.58867\n## 270 352374.6 6437236 47.2 22.2 1.70  39.58867\n## 271 360020.4 6412716 32.2 14.3 2.20  39.58867\n## 272 360639.9 6397543 42.5 14.2 1.40  39.58867\n## 273 363104.2 6380446 46.1 13.5 1.40  39.58867\n## 274 363949.4 6366384 36.6 13.2 1.50  39.58867\n## 275 360297.2 6339369 36.3 20.8 2.40  39.58867\n## 276 358906.9 6318191 22.9 12.8 2.40  39.58867\n## 277 368023.8 6297300 31.9 15.2 3.00  39.58867\n## 278 356796.3 6281601 24.7 15.1 1.60  39.58867\n## 279 360840.7 6258420 26.6 16.1 1.80  39.58867\n## 280 357728.1 6243261 11.6  8.2 1.10  39.58867\n## 281 365059.0 6217702  4.0  5.5 1.20  39.58867\n## 282 372915.4 6201693 12.4  7.2 1.50  39.58867\n## 283 369232.8 6178825 10.5 10.2 1.90  39.58867\n## 284 354127.0 6154878 15.4  8.4 2.00  39.58867\n## 285 364634.4 6141008 10.6  7.7 2.20  39.58867\n## 286 322034.1 6722199 44.0 27.3 1.90  39.58867\n## 287 336988.4 6702457 33.9 13.2 1.60  39.58867\n## 288 342934.9 6678617 21.0  8.4 1.10  39.58867\n## 289 333942.3 6663125 39.0 20.5 1.85  39.58867\n## 290 339487.4 6636141 30.0 17.8 1.40  39.58867\n## 291 351274.0 6477363 58.2 34.0 1.90  39.58867\n## 292 340122.0 6459510 52.3 26.7 0.80  39.58867\n## 293 358358.8 6422919 48.1 14.2 2.10  39.58867\n## 294 348091.4 6386836 47.9 13.1 1.90  39.58867\n## 295 338135.2 6376681 43.4 20.9 1.70  39.58867\n## 296 335929.7 6354151 49.1 30.6 2.50  39.58867\n## 297 338757.8 6338937 28.2 18.3 2.00  39.58867\n## 298 348477.5 6320510 14.6  9.3 1.50  39.58867\n## 299 343471.4 6292974 30.3 14.9 1.50  39.58867\n## 300 331109.7 6247386  8.8  7.5 1.10  39.58867\n## 301 342413.3 6226849 11.2  8.6 1.40  39.58867\n## 302 342963.0 6193915  9.9  7.1 1.50  39.58867\n## 303 343616.1 6170952 13.7  5.0 1.50  39.58867\n## 304 336324.5 6164347  0.0  6.6 1.70  39.58867\n## 305 344720.9 6134254  0.0 12.1 2.10  39.58867\n## 306 314936.8 6654862 26.7 10.3 1.10  39.58867\n## 307 326153.8 6628397 28.4 14.4 1.30  39.58867\n## 308 315026.9 6615022 18.0 10.2 1.29  39.58867\n## 309 318722.8 6592813 22.9 12.7 1.00  39.58867\n## 310 302508.5 6573027 57.8 27.8 3.30  39.58867\n## 311 310568.5 6517139 40.4 22.0 0.80  39.58867\n## 312 316152.5 6474608 46.1  9.6 1.80  39.58867\n## 313 304247.8 6459885 28.3 13.2 2.40  39.58867\n## 314 307888.3 6436238 36.9 15.0 0.80  39.58867\n## 315 326290.2 6358537 52.1 24.2 1.50  39.58867\n## 316 323251.7 6333011 17.7 11.7 0.60  39.58867\n## 317 323107.8 6317898 13.4 11.7 1.60  39.58867\n## 318 323918.5 6296467 13.4  9.0 1.20  39.58867\n## 319 313421.1 6284488 12.8  9.6 1.70  39.58867\n## 320 311319.3 6250934  9.2  6.0 1.30  39.58867\n## 321 316141.0 6234887 17.5 10.9 1.40  39.58867\n## 322 312199.4 6218220 12.2  8.5 1.70  39.58867\n## 323 322774.6 6196569  7.7  5.3 1.30  39.58867\n## 324 313315.5 6173792  7.1  6.8 1.40  39.58867\n## 325 314626.1 6153624  5.1  6.9 1.20  39.58867\n## 326 314547.3 6135107 23.5 12.2 1.50  39.58867\n## 327 303239.8 6620640 21.5 14.4 1.40  39.58867\n## 328 292241.2 6594051 29.3 16.0 2.00  39.58867\n## 329 304823.8 6586070 38.9 15.7 1.21  39.58867\n## 330 299754.1 6554098 41.7 15.3 0.86  39.58867\n## 331 299158.8 6536651 33.4 17.3 1.10  39.58867\n## 332 292274.0 6516662 14.2  6.9 1.03  39.58867\n## 333 300315.6 6496947 56.8 22.6 1.10  39.58867\n## 334 295007.2 6475754 47.8 19.3 1.20  39.58867\n## 335 295427.5 6437040 28.8 14.4 1.50  39.58867\n## 336 300698.5 6315618 11.1  8.4 1.10  39.58867\n## 337 256689.0 6610529 39.0 12.5 1.10  39.58867\n## 338 271612.2 6610072 33.9 14.2 1.10  39.58867\n## 339 278760.3 6590394 31.3 16.4 1.50  39.58867\n## 340 273995.8 6573165 25.9 11.3 0.60  39.58867\n## 341 284724.4 6544882 55.3 21.1 0.60  39.58867\n## 342 281465.5 6528077 18.7  9.1 0.60  39.58867\n## 343 270532.2 6513493 29.3 14.1 1.00  39.58867\n## 344 281067.8 6495186 28.0 10.0 1.10  39.58867\n## 345 270093.9 6473571 46.2 17.1 2.10  39.58867\n## 346 277578.3 6454923 29.7 10.5 0.80  39.58867\n## 347 257921.1 6610371 33.0 14.3 1.60  39.58867\n## 348 246082.7 6589469 38.5 17.1 1.50  39.58867\n## 349 250409.8 6572978 30.6 10.2 1.20  39.58867\n## 350 235888.3 6553601 40.2 14.0 1.30  39.58867\n## 351 251686.1 6530851 26.3 11.5 0.90  39.58867\n## 352 251673.6 6518741 23.8 10.5 0.80  39.58867\n## 353 260311.3 6503994 31.3 16.1 1.40  39.58867\n## 354 244261.6 6468475 33.2 17.0 2.70  39.58867\n## 355 259768.2 6551776 15.0  7.3 1.30  39.58867\n```\n:::\n\n\n\n## Manejo de bases de datos {auto-animate=\"true\"}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(dplyr)\n\nmuestreo |>\n  mutate(mediaLimo = mean(Limo, na.rm = TRUE)) |> \n  filter(Limo > mediaLimo)\n##           Xt      Yt Limo   CC    K mediaLimo\n## 1   603163.6 6576899 67.0 29.3 2.30  39.58867\n## 2   596537.1 6390518 66.0 28.9 2.02  39.58867\n## 3   595665.5 6380484 62.9 27.5 1.38  39.58867\n## 4   601138.5 6353446 57.4 25.4 1.60  39.58867\n## 5   601798.1 6344096 61.1 25.3 1.36  39.58867\n## 6   587501.2 6615272 65.3 25.4 2.40  39.58867\n## 7   589808.2 6593001 62.6 25.7 2.30  39.58867\n## 8   585406.5 6575712 69.3 23.4 1.81  39.58867\n## 9   584319.9 6552571 64.6 25.1 3.00  39.58867\n## 10  582795.8 6536823 59.0 33.5 2.33  39.58867\n## 11  578393.8 6514830 68.5 29.3 2.24  39.58867\n## 12  583401.3 6415459 73.7 21.8 2.30  39.58867\n## 13  584191.3 6397971 59.8 25.9 1.99  39.58867\n## 14  581920.4 6376827 61.0 24.7 1.78  39.58867\n## 15  577542.6 6355542 61.8 23.6 1.93  39.58867\n## 16  584591.7 6335074 56.7 28.0 1.70  39.58867\n## 17  580626.0 6317237 44.8 25.4 2.10  39.58867\n## 18  562987.4 6573479 63.1 25.0 2.00  39.58867\n## 19  566036.4 6556137 61.5 25.3 2.30  39.58867\n## 20  562334.3 6536965 61.1 24.0 2.38  39.58867\n## 21  559369.8 6522722 64.4 25.1 2.24  39.58867\n## 22  560282.0 6498671 56.3 22.6 1.43  39.58867\n## 23  560549.5 6488513 55.4 25.8 2.17  39.58867\n## 24  564983.2 6460704 67.8 25.2 2.30  39.58867\n## 25  562125.9 6417162 65.6 27.3 2.31  39.58867\n## 26  562506.2 6396998 64.6 28.2 2.14  39.58867\n## 27  561288.0 6377057 59.5 22.6 2.07  39.58867\n## 28  558959.4 6356407 53.2 25.9 1.92  39.58867\n## 29  565136.4 6336920 52.3 24.4 2.05  39.58867\n## 30  561075.5 6317870 55.1 26.6 1.83  39.58867\n## 31  560453.6 6296711 45.4 18.6 1.60  39.58867\n## 32  540132.5 6572395 60.2 29.8 1.80  39.58867\n## 33  540066.3 6554923 47.9 19.0 1.70  39.58867\n## 34  540779.8 6533415 63.8 22.8 2.50  39.58867\n## 35  540148.3 6525651 62.4 22.9 2.00  39.58867\n## 36  544374.1 6494569 66.2 28.5 2.43  39.58867\n## 37  538352.2 6481364 53.0 23.5 2.10  39.58867\n## 38  537104.6 6461968 64.5 26.5 2.58  39.58867\n## 39  532245.0 6442189 89.1 30.0 3.02  39.58867\n## 40  541745.0 6421084 51.8 20.9 1.73  39.58867\n## 41  539590.4 6394002 47.3 17.9 1.86  39.58867\n## 42  548155.4 6373990 54.0 20.1 1.96  39.58867\n## 43  540549.2 6359775 52.1 20.4 2.02  39.58867\n## 44  545162.9 6334934 51.7 20.7 1.94  39.58867\n## 45  543884.1 6320334 44.1 18.7 3.30  39.58867\n## 46  541060.1 6295328 41.4 19.2 1.72  39.58867\n## 47  517735.0 6571859 61.3 21.9 2.80  39.58867\n## 48  521452.9 6557077 54.7 20.0 1.88  39.58867\n## 49  518981.7 6539152 56.4 27.7 1.90  39.58867\n## 50  516398.8 6523475 62.2 21.4 2.30  39.58867\n## 51  526721.8 6505980 64.3 22.6 2.20  39.58867\n## 52  521566.0 6479408 51.6 18.7 1.70  39.58867\n## 53  517747.8 6451336 64.5 25.2 2.30  39.58867\n## 54  520817.7 6423081 63.6 27.7 3.30  39.58867\n## 55  521616.1 6394127 58.0 23.8 2.30  39.58867\n## 56  523663.2 6374580 54.3 20.9 2.50  39.58867\n## 57  522161.5 6361886 54.5 18.8 2.30  39.58867\n## 58  523948.5 6338317 46.8 17.6 2.40  39.58867\n## 59  522520.0 6315974 43.7 17.6 2.10  39.58867\n## 60  521364.1 6242214 43.3 21.4 1.80  39.58867\n## 61  497504.3 6595468 69.9 20.9 2.60  39.58867\n## 62  498859.5 6582924 48.7 28.4 2.30  39.58867\n## 63  496547.8 6554849 61.2 22.3 2.70  39.58867\n## 64  502725.1 6522890 43.8 18.4 2.10  39.58867\n## 65  504966.4 6496754 61.7 20.7 2.20  39.58867\n## 66  493626.2 6469272 60.6 23.3 2.70  39.58867\n## 67  503024.7 6459416 88.1 18.7 2.40  39.58867\n## 68  491398.7 6442386 61.8 21.8 2.20  39.58867\n## 69  501034.0 6417872 63.0 20.0 2.40  39.58867\n## 70  503837.2 6399237 57.3 33.0 2.60  39.58867\n## 71  500936.9 6377536 55.9 21.8 2.20  39.58867\n## 72  494748.6 6356124 49.6 17.7 2.20  39.58867\n## 73  500781.0 6333918 44.5 20.0 2.00  39.58867\n## 74  470472.3 6684993 57.8 24.3 2.20  39.58867\n## 75  467093.8 6665904 47.0 17.9 2.80  39.58867\n## 76  478336.1 6581409 55.4 25.7 3.20  39.58867\n## 77  478088.6 6555574 59.8 20.8 2.16  39.58867\n## 78  472449.7 6531218 62.7 20.3 2.11  39.58867\n## 79  480565.5 6497231 60.9 19.9 2.30  39.58867\n## 80  481351.8 6454471 51.6 25.7 1.75  39.58867\n## 81  480685.6 6433792 61.5 21.4 2.70  39.58867\n## 82  480716.9 6417424 55.2 21.6 2.70  39.58867\n## 83  477386.8 6397107 52.0 21.3 2.40  39.58867\n## 84  477023.6 6378135 57.6 17.5 2.60  39.58867\n## 85  478417.9 6357823 51.4 15.7 2.40  39.58867\n## 86  480871.4 6337608 42.9 13.7 2.20  39.58867\n## 87  481955.4 6299139 43.8 17.2 1.80  39.58867\n## 88  479213.4 6220087 41.7 17.5 1.60  39.58867\n## 89  452453.0 6685685 59.2 24.3 2.80  39.58867\n## 90  454630.4 6650994 57.4 23.2 2.00  39.58867\n## 91  463017.2 6617131 53.0 25.3 2.40  39.58867\n## 92  459804.0 6596920 39.9 13.5 1.74  39.58867\n## 93  459951.2 6581356 44.3 19.6 2.10  39.58867\n## 94  456426.2 6528027 58.4 21.7 2.77  39.58867\n## 95  462239.5 6500271 58.6 19.7 2.40  39.58867\n## 96  457980.5 6478448 62.6 19.0 2.78  39.58867\n## 97  460337.2 6457270 59.2 17.8 3.00  39.58867\n## 98  460415.0 6437318 48.8 14.9 2.70  39.58867\n## 99  459339.5 6416020 50.3 15.3 2.10  39.58867\n## 100 457447.1 6401523 54.8 16.8 3.40  39.58867\n## 101 460815.3 6380176 39.9 15.2 4.80  39.58867\n## 102 465851.6 6355547 40.0 12.6 2.30  39.58867\n## 103 465263.7 6296646 40.4 14.9 1.97  39.58867\n## 104 448405.0 6145931 46.8 26.7 1.90  39.58867\n## 105 431144.2 6693667 56.2 27.3 1.60  39.58867\n## 106 441061.9 6675047 61.5 22.8 2.40  39.58867\n## 107 433488.8 6656236 64.8 24.7 2.30  39.58867\n## 108 430584.4 6631845 59.9 23.5 2.20  39.58867\n## 109 439114.4 6616771 63.7 23.2 2.10  39.58867\n## 110 439227.2 6596823 58.9 22.5 3.10  39.58867\n## 111 444384.3 6572176 58.0 23.0 2.48  39.58867\n## 112 439454.5 6556926 60.1 23.2 2.45  39.58867\n## 113 439488.0 6534813 61.5 21.9 2.30  39.58867\n## 114 442482.7 6521239 59.7 19.8 2.28  39.58867\n## 115 437738.5 6502293 58.5 20.7 2.40  39.58867\n## 116 437197.4 6476251 53.4 18.8 2.34  39.58867\n## 117 440689.2 6459394 53.4 18.1 2.01  39.58867\n## 118 440150.9 6437219 47.4 26.7 1.70  39.58867\n## 119 436267.8 6422024 52.5 20.6 1.90  39.58867\n## 120 443077.9 6398613 45.9 18.9 3.20  39.58867\n## 121 418050.8 6676478 43.9 22.1 1.30  39.58867\n## 122 414909.6 6656061 58.0 21.9 2.20  39.58867\n## 123 415617.6 6642029 56.1 20.6 2.00  39.58867\n## 124 423666.9 6616209 58.0 25.9 2.50  39.58867\n## 125 418240.5 6593812 54.5 23.7 1.90  39.58867\n## 126 414895.0 6575416 61.9 22.4 2.28  39.58867\n## 127 408415.6 6559531 58.1 26.5 2.30  39.58867\n## 128 419639.8 6535327 62.4 21.1 2.00  39.58867\n## 129 418820.7 6517895 57.7 19.5 2.50  39.58867\n## 130 419416.8 6496936 53.1 21.7 2.50  39.58867\n## 131 420262.1 6480316 59.2 19.8 2.10  39.58867\n## 132 419729.1 6457032 55.6 15.4 1.70  39.58867\n## 133 422555.7 6416999 46.6 20.2 1.50  39.58867\n## 134 397694.8 6636409 55.4 20.2 1.70  39.58867\n## 135 401699.9 6616496 49.4 19.3 2.49  39.58867\n## 136 398072.1 6596511 49.0 20.4 1.90  39.58867\n## 137 398262.3 6576561 42.4 16.4 1.30  39.58867\n## 138 391757.1 6558627 56.3 24.5 2.10  39.58867\n## 139 399062.8 6541124 59.0 19.2 2.10  39.58867\n## 140 402114.3 6516158 59.2 22.7 2.10  39.58867\n## 141 399184.9 6498206 53.8 19.0 1.80  39.58867\n## 142 393818.3 6473953 60.0 18.5 2.58  39.58867\n## 143 390997.4 6456296 44.4 16.6 1.80  39.58867\n## 144 398740.7 6419518 46.8 18.9 1.72  39.58867\n## 145 375837.0 6714323 49.2 26.6 1.10  39.58867\n## 146 365386.8 6695978 51.6 26.4 1.90  39.58867\n## 147 382613.1 6619021 49.3 19.7 1.80  39.58867\n## 148 379858.9 6542664 53.1 23.0 2.18  39.58867\n## 149 379912.8 6513835 60.7 25.1 2.50  39.58867\n## 150 378648.6 6496538 67.4 26.8 2.50  39.58867\n## 151 378883.2 6476585 54.9 23.1 2.10  39.58867\n## 152 373300.2 6454149 59.8 20.8 1.70  39.58867\n## 153 379356.0 6436677 53.6 26.5 2.00  39.58867\n## 154 371612.3 6361513 40.0 18.9 2.30  39.58867\n## 155 383588.6 6341233 41.7 23.9 2.90  39.58867\n## 156 379627.0 6134719 58.2 15.2 2.20  39.58867\n## 157 357028.1 6627659 41.5 22.8 1.70  39.58867\n## 158 363571.9 6515526 50.8 21.7 2.00  39.58867\n## 159 358491.9 6479635 48.7 21.5 1.40  39.58867\n## 160 364859.8 6456431 48.0 16.9 1.70  39.58867\n## 161 352374.6 6437236 47.2 22.2 1.70  39.58867\n## 162 360639.9 6397543 42.5 14.2 1.40  39.58867\n## 163 363104.2 6380446 46.1 13.5 1.40  39.58867\n## 164 322034.1 6722199 44.0 27.3 1.90  39.58867\n## 165 351274.0 6477363 58.2 34.0 1.90  39.58867\n## 166 340122.0 6459510 52.3 26.7 0.80  39.58867\n## 167 358358.8 6422919 48.1 14.2 2.10  39.58867\n## 168 348091.4 6386836 47.9 13.1 1.90  39.58867\n## 169 338135.2 6376681 43.4 20.9 1.70  39.58867\n## 170 335929.7 6354151 49.1 30.6 2.50  39.58867\n## 171 302508.5 6573027 57.8 27.8 3.30  39.58867\n## 172 310568.5 6517139 40.4 22.0 0.80  39.58867\n## 173 316152.5 6474608 46.1  9.6 1.80  39.58867\n## 174 326290.2 6358537 52.1 24.2 1.50  39.58867\n## 175 299754.1 6554098 41.7 15.3 0.86  39.58867\n## 176 300315.6 6496947 56.8 22.6 1.10  39.58867\n## 177 295007.2 6475754 47.8 19.3 1.20  39.58867\n## 178 284724.4 6544882 55.3 21.1 0.60  39.58867\n## 179 270093.9 6473571 46.2 17.1 2.10  39.58867\n## 180 235888.3 6553601 40.2 14.0 1.30  39.58867\n```\n:::\n\n\n\n## Manejo de bases de datos {auto-animate=\"true\"}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(dplyr)\n\nmuestreo |>\n  mutate(mediaLimo = mean(Limo, na.rm = TRUE)) |> \n  filter(Limo > mediaLimo) |> \n  select(-mediaLimo)\n##           Xt      Yt Limo   CC    K\n## 1   603163.6 6576899 67.0 29.3 2.30\n## 2   596537.1 6390518 66.0 28.9 2.02\n## 3   595665.5 6380484 62.9 27.5 1.38\n## 4   601138.5 6353446 57.4 25.4 1.60\n## 5   601798.1 6344096 61.1 25.3 1.36\n## 6   587501.2 6615272 65.3 25.4 2.40\n## 7   589808.2 6593001 62.6 25.7 2.30\n## 8   585406.5 6575712 69.3 23.4 1.81\n## 9   584319.9 6552571 64.6 25.1 3.00\n## 10  582795.8 6536823 59.0 33.5 2.33\n## 11  578393.8 6514830 68.5 29.3 2.24\n## 12  583401.3 6415459 73.7 21.8 2.30\n## 13  584191.3 6397971 59.8 25.9 1.99\n## 14  581920.4 6376827 61.0 24.7 1.78\n## 15  577542.6 6355542 61.8 23.6 1.93\n## 16  584591.7 6335074 56.7 28.0 1.70\n## 17  580626.0 6317237 44.8 25.4 2.10\n## 18  562987.4 6573479 63.1 25.0 2.00\n## 19  566036.4 6556137 61.5 25.3 2.30\n## 20  562334.3 6536965 61.1 24.0 2.38\n## 21  559369.8 6522722 64.4 25.1 2.24\n## 22  560282.0 6498671 56.3 22.6 1.43\n## 23  560549.5 6488513 55.4 25.8 2.17\n## 24  564983.2 6460704 67.8 25.2 2.30\n## 25  562125.9 6417162 65.6 27.3 2.31\n## 26  562506.2 6396998 64.6 28.2 2.14\n## 27  561288.0 6377057 59.5 22.6 2.07\n## 28  558959.4 6356407 53.2 25.9 1.92\n## 29  565136.4 6336920 52.3 24.4 2.05\n## 30  561075.5 6317870 55.1 26.6 1.83\n## 31  560453.6 6296711 45.4 18.6 1.60\n## 32  540132.5 6572395 60.2 29.8 1.80\n## 33  540066.3 6554923 47.9 19.0 1.70\n## 34  540779.8 6533415 63.8 22.8 2.50\n## 35  540148.3 6525651 62.4 22.9 2.00\n## 36  544374.1 6494569 66.2 28.5 2.43\n## 37  538352.2 6481364 53.0 23.5 2.10\n## 38  537104.6 6461968 64.5 26.5 2.58\n## 39  532245.0 6442189 89.1 30.0 3.02\n## 40  541745.0 6421084 51.8 20.9 1.73\n## 41  539590.4 6394002 47.3 17.9 1.86\n## 42  548155.4 6373990 54.0 20.1 1.96\n## 43  540549.2 6359775 52.1 20.4 2.02\n## 44  545162.9 6334934 51.7 20.7 1.94\n## 45  543884.1 6320334 44.1 18.7 3.30\n## 46  541060.1 6295328 41.4 19.2 1.72\n## 47  517735.0 6571859 61.3 21.9 2.80\n## 48  521452.9 6557077 54.7 20.0 1.88\n## 49  518981.7 6539152 56.4 27.7 1.90\n## 50  516398.8 6523475 62.2 21.4 2.30\n## 51  526721.8 6505980 64.3 22.6 2.20\n## 52  521566.0 6479408 51.6 18.7 1.70\n## 53  517747.8 6451336 64.5 25.2 2.30\n## 54  520817.7 6423081 63.6 27.7 3.30\n## 55  521616.1 6394127 58.0 23.8 2.30\n## 56  523663.2 6374580 54.3 20.9 2.50\n## 57  522161.5 6361886 54.5 18.8 2.30\n## 58  523948.5 6338317 46.8 17.6 2.40\n## 59  522520.0 6315974 43.7 17.6 2.10\n## 60  521364.1 6242214 43.3 21.4 1.80\n## 61  497504.3 6595468 69.9 20.9 2.60\n## 62  498859.5 6582924 48.7 28.4 2.30\n## 63  496547.8 6554849 61.2 22.3 2.70\n## 64  502725.1 6522890 43.8 18.4 2.10\n## 65  504966.4 6496754 61.7 20.7 2.20\n## 66  493626.2 6469272 60.6 23.3 2.70\n## 67  503024.7 6459416 88.1 18.7 2.40\n## 68  491398.7 6442386 61.8 21.8 2.20\n## 69  501034.0 6417872 63.0 20.0 2.40\n## 70  503837.2 6399237 57.3 33.0 2.60\n## 71  500936.9 6377536 55.9 21.8 2.20\n## 72  494748.6 6356124 49.6 17.7 2.20\n## 73  500781.0 6333918 44.5 20.0 2.00\n## 74  470472.3 6684993 57.8 24.3 2.20\n## 75  467093.8 6665904 47.0 17.9 2.80\n## 76  478336.1 6581409 55.4 25.7 3.20\n## 77  478088.6 6555574 59.8 20.8 2.16\n## 78  472449.7 6531218 62.7 20.3 2.11\n## 79  480565.5 6497231 60.9 19.9 2.30\n## 80  481351.8 6454471 51.6 25.7 1.75\n## 81  480685.6 6433792 61.5 21.4 2.70\n## 82  480716.9 6417424 55.2 21.6 2.70\n## 83  477386.8 6397107 52.0 21.3 2.40\n## 84  477023.6 6378135 57.6 17.5 2.60\n## 85  478417.9 6357823 51.4 15.7 2.40\n## 86  480871.4 6337608 42.9 13.7 2.20\n## 87  481955.4 6299139 43.8 17.2 1.80\n## 88  479213.4 6220087 41.7 17.5 1.60\n## 89  452453.0 6685685 59.2 24.3 2.80\n## 90  454630.4 6650994 57.4 23.2 2.00\n## 91  463017.2 6617131 53.0 25.3 2.40\n## 92  459804.0 6596920 39.9 13.5 1.74\n## 93  459951.2 6581356 44.3 19.6 2.10\n## 94  456426.2 6528027 58.4 21.7 2.77\n## 95  462239.5 6500271 58.6 19.7 2.40\n## 96  457980.5 6478448 62.6 19.0 2.78\n## 97  460337.2 6457270 59.2 17.8 3.00\n## 98  460415.0 6437318 48.8 14.9 2.70\n## 99  459339.5 6416020 50.3 15.3 2.10\n## 100 457447.1 6401523 54.8 16.8 3.40\n## 101 460815.3 6380176 39.9 15.2 4.80\n## 102 465851.6 6355547 40.0 12.6 2.30\n## 103 465263.7 6296646 40.4 14.9 1.97\n## 104 448405.0 6145931 46.8 26.7 1.90\n## 105 431144.2 6693667 56.2 27.3 1.60\n## 106 441061.9 6675047 61.5 22.8 2.40\n## 107 433488.8 6656236 64.8 24.7 2.30\n## 108 430584.4 6631845 59.9 23.5 2.20\n## 109 439114.4 6616771 63.7 23.2 2.10\n## 110 439227.2 6596823 58.9 22.5 3.10\n## 111 444384.3 6572176 58.0 23.0 2.48\n## 112 439454.5 6556926 60.1 23.2 2.45\n## 113 439488.0 6534813 61.5 21.9 2.30\n## 114 442482.7 6521239 59.7 19.8 2.28\n## 115 437738.5 6502293 58.5 20.7 2.40\n## 116 437197.4 6476251 53.4 18.8 2.34\n## 117 440689.2 6459394 53.4 18.1 2.01\n## 118 440150.9 6437219 47.4 26.7 1.70\n## 119 436267.8 6422024 52.5 20.6 1.90\n## 120 443077.9 6398613 45.9 18.9 3.20\n## 121 418050.8 6676478 43.9 22.1 1.30\n## 122 414909.6 6656061 58.0 21.9 2.20\n## 123 415617.6 6642029 56.1 20.6 2.00\n## 124 423666.9 6616209 58.0 25.9 2.50\n## 125 418240.5 6593812 54.5 23.7 1.90\n## 126 414895.0 6575416 61.9 22.4 2.28\n## 127 408415.6 6559531 58.1 26.5 2.30\n## 128 419639.8 6535327 62.4 21.1 2.00\n## 129 418820.7 6517895 57.7 19.5 2.50\n## 130 419416.8 6496936 53.1 21.7 2.50\n## 131 420262.1 6480316 59.2 19.8 2.10\n## 132 419729.1 6457032 55.6 15.4 1.70\n## 133 422555.7 6416999 46.6 20.2 1.50\n## 134 397694.8 6636409 55.4 20.2 1.70\n## 135 401699.9 6616496 49.4 19.3 2.49\n## 136 398072.1 6596511 49.0 20.4 1.90\n## 137 398262.3 6576561 42.4 16.4 1.30\n## 138 391757.1 6558627 56.3 24.5 2.10\n## 139 399062.8 6541124 59.0 19.2 2.10\n## 140 402114.3 6516158 59.2 22.7 2.10\n## 141 399184.9 6498206 53.8 19.0 1.80\n## 142 393818.3 6473953 60.0 18.5 2.58\n## 143 390997.4 6456296 44.4 16.6 1.80\n## 144 398740.7 6419518 46.8 18.9 1.72\n## 145 375837.0 6714323 49.2 26.6 1.10\n## 146 365386.8 6695978 51.6 26.4 1.90\n## 147 382613.1 6619021 49.3 19.7 1.80\n## 148 379858.9 6542664 53.1 23.0 2.18\n## 149 379912.8 6513835 60.7 25.1 2.50\n## 150 378648.6 6496538 67.4 26.8 2.50\n## 151 378883.2 6476585 54.9 23.1 2.10\n## 152 373300.2 6454149 59.8 20.8 1.70\n## 153 379356.0 6436677 53.6 26.5 2.00\n## 154 371612.3 6361513 40.0 18.9 2.30\n## 155 383588.6 6341233 41.7 23.9 2.90\n## 156 379627.0 6134719 58.2 15.2 2.20\n## 157 357028.1 6627659 41.5 22.8 1.70\n## 158 363571.9 6515526 50.8 21.7 2.00\n## 159 358491.9 6479635 48.7 21.5 1.40\n## 160 364859.8 6456431 48.0 16.9 1.70\n## 161 352374.6 6437236 47.2 22.2 1.70\n## 162 360639.9 6397543 42.5 14.2 1.40\n## 163 363104.2 6380446 46.1 13.5 1.40\n## 164 322034.1 6722199 44.0 27.3 1.90\n## 165 351274.0 6477363 58.2 34.0 1.90\n## 166 340122.0 6459510 52.3 26.7 0.80\n## 167 358358.8 6422919 48.1 14.2 2.10\n## 168 348091.4 6386836 47.9 13.1 1.90\n## 169 338135.2 6376681 43.4 20.9 1.70\n## 170 335929.7 6354151 49.1 30.6 2.50\n## 171 302508.5 6573027 57.8 27.8 3.30\n## 172 310568.5 6517139 40.4 22.0 0.80\n## 173 316152.5 6474608 46.1  9.6 1.80\n## 174 326290.2 6358537 52.1 24.2 1.50\n## 175 299754.1 6554098 41.7 15.3 0.86\n## 176 300315.6 6496947 56.8 22.6 1.10\n## 177 295007.2 6475754 47.8 19.3 1.20\n## 178 284724.4 6544882 55.3 21.1 0.60\n## 179 270093.9 6473571 46.2 17.1 2.10\n## 180 235888.3 6553601 40.2 14.0 1.30\n```\n:::\n\n\n\n## Manejo de bases de datos {auto-animate=\"true\"}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(dplyr)\n\nbase_subset <- \n  muestreo |>\n  mutate(mediaLimo = mean(Limo, na.rm = TRUE)) |> \n  filter(Limo > mediaLimo) |> \n  select(-mediaLimo)\n```\n:::\n\n\n\n## Conversión de `data.frame` a objeto espacial\n\n\n::: {.cell}\n\n```{.r .cell-code}\nprint(muestreo <- st_as_sf(muestreo, \n                           coords = c(\"Xt\", \"Yt\"), \n                           crs = 32720), \n      n = 5)\n## Simple feature collection with 355 features and 3 fields\n## Geometry type: POINT\n## Dimension:     XY\n## Bounding box:  xmin: 235888.3 ymin: 6133188 xmax: 603163.6 ymax: 6722199\n## Projected CRS: WGS 84 / UTM zone 20S\n## First 5 features:\n##   Limo   CC    K                 geometry\n## 1 67.0 29.3 2.30 POINT (603163.6 6576899)\n## 2 66.0 28.9 2.02 POINT (596537.1 6390518)\n## 3 62.9 27.5 1.38 POINT (595665.5 6380484)\n## 4 57.4 25.4 1.60 POINT (601138.5 6353446)\n## 5 61.1 25.3 1.36 POINT (601798.1 6344096)\n```\n:::\n\n\n---\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(muestreo)\n##       Limo             CC              K                  geometry  \n##  Min.   : 0.00   Min.   : 5.00   Min.   :0.400   POINT        :355  \n##  1st Qu.:24.60   1st Qu.:13.10   1st Qu.:1.500   epsg:32720   :  0  \n##  Median :40.00   Median :17.70   Median :1.810   +proj=utm ...:  0  \n##  Mean   :39.59   Mean   :17.72   Mean   :1.856                      \n##  3rd Qu.:55.90   3rd Qu.:21.90   3rd Qu.:2.240                      \n##  Max.   :89.10   Max.   :34.00   Max.   :4.800                      \n##  NA's   :2       NA's   :2       NA's   :2\n```\n:::\n\n\n---\n\n\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot(muestreo, pch = 18 , cex = 3)\n```\n\n::: {.cell-output-display}\n![](introduccion_r_espacial_files/figure-revealjs/unnamed-chunk-19-1.png){width=1248}\n:::\n:::\n\n\n:::\n\n::: {.column width=\"50%\"}\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(muestreo) +\n  geom_sf()\n```\n\n::: {.cell-output-display}\n![](introduccion_r_espacial_files/figure-revealjs/unnamed-chunk-20-1.png){width=960}\n:::\n:::\n\n\n:::\n\n::::\n\n---\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(muestreo) +\n  geom_sf(aes(fill = Limo), shape = 22, size = 3)\n```\n\n::: {.cell-output-display}\n![](introduccion_r_espacial_files/figure-revealjs/unnamed-chunk-21-1.png){width=960}\n:::\n:::\n\n\n\n# Lectura de archivo *Shapefile*\n\n*Shapefile* consisten en varios archivos de datos espaciales,\ncon el mimso nombre base que residen en el mismo directorio.\nFue desarrollado por la compañía ESRI.\n\nLos archivos obligatorios son:\n\n- **.shp**: es el archivo principal que almacena la geometría de la entidad\n- **.shx**: es el archivo de índice que almacena el índice de la geometría de la entidad\n- **.dbf**: es la tabla dBASE que almacena la información de atributos de las entidades\n\nPero pueden tener otros tipos de archivos\n\n**.prj**, **.xml**, **.sbn**, **.sbx** ....\n\n::: {.notes}\n\n- **.prj**: es el archivo que almacena información del sistema de coordenadas\n- **.xml**: metadatos de ArcGIS, es el archivo que almacena información sobre el shapefile\n- **.sbn** y **.sbx**: son los archivos que almacenan el índice espacial de las entidades\n- **.fbn** y **.fbx**: son los archivos que almacenan el índice espacial de las entidades para los shapefiles que son solo de lectura.\n- **.ain** y **.aih**: son los archivos que almacenan el índice de atributo de los campos activos en una tabla o una tabla de atributos del tema.\n- **.atx**: se crea un archivo .atx para cada shapefile o índice de atributos de shapefile dBase creado en ArcCatalog. ArcGIS no utiliza los índices de atributo de ArcView GIS 3.x de los archivos shapefile y dBase. Se ha creado un nuevo modelo de indexación de atributos para los archivos shapefile y dBase.\n- **.ixs**: índice de geocodificación para los shapefiles de lectura y escritura.\n- **.mxs**: índice de geocodificación para los shapefiles de lectura y escritura (formato ODB).\n- **.cpg**: es un archivo opcional que se puede utilizar para especificar la página de código para identificar el conjunto de caracteres que se va a utilizar.\n\n:::\n\n\n# Lectura de archivo *GeoPackage*\n\n- Es un formato de archivo universal construido sobre la base de SQLite, para compartir y transferir datos espaciales vectoriales **y** raster.\n- A diferencia de los *shapesfiles*, se trata de un único archivo **.gpkg**, por lo que es ideal para transferir información geoespacial\n- Diseñado para almacenar datos complejos y voluminosos (hasta 140 TB)\n- Permite almacenar diferentes tipos de geometrías en un mismo archivo\n- Destaca por su flexibilidad pudiendolo utilizar de muchas maneras, por lo que puede reemplazar al formato shapefile\n\n\n# Vectoriales\n\n\n::: {.cell}\n\n```{.r .cell-code}\nprint(departamentos <- read_sf(\"datos/deptos_cba\", stringsAsFactors = TRUE), n = 3)\n## Simple feature collection with 26 features and 5 fields\n## Geometry type: POLYGON\n## Dimension:     XY\n## Bounding box:  xmin: -65.77198 ymin: -35.00013 xmax: -61.77089 ymax: -29.50042\n## Geodetic CRS:  WGS 84\n## # A tibble: 26 × 6\n##   objectid departa            cabecer provincia fuente                  geometry\n##      <dbl> <fct>              <fct>   <fct>     <fct>              <POLYGON [°]>\n## 1      393 PRESIDENTE ROQUE … LABOUL… CORDOBA   CATAS… ((-62.8198 -33.89651, -6…\n## 2      341 TERCERO ARRIBA     OLIVA   CORDOBA   CATAS… ((-63.11768 -32.00111, -…\n## 3      342 JUAREZ CELMAN      LA CAR… CORDOBA   CATAS… ((-63.55538 -32.83089, -…\n## # ℹ 23 more rows\n```\n:::\n\n\n\n# Vectoriales\n\n\n::: {.cell output-line-numbers='1,2,6,9'}\n\n```{.r .cell-code}\nprint(departamentos <- read_sf(\"datos/deptos_cba\", stringsAsFactors = TRUE), n = 3)\n## Simple feature collection with 26 features and 5 fields\n## Geometry type: POLYGON\n## Dimension:     XY\n## Bounding box:  xmin: -65.77198 ymin: -35.00013 xmax: -61.77089 ymax: -29.50042\n## Geodetic CRS:  WGS 84\n## # A tibble: 26 × 6\n##   objectid departa            cabecer provincia fuente                  geometry\n##      <dbl> <fct>              <fct>   <fct>     <fct>              <POLYGON [°]>\n## 1      393 PRESIDENTE ROQUE … LABOUL… CORDOBA   CATAS… ((-62.8198 -33.89651, -6…\n## 2      341 TERCERO ARRIBA     OLIVA   CORDOBA   CATAS… ((-63.11768 -32.00111, -…\n## 3      342 JUAREZ CELMAN      LA CAR… CORDOBA   CATAS… ((-63.55538 -32.83089, -…\n## # ℹ 23 more rows\n```\n:::\n\n\n---\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(departamentos)\n##     objectid                   departa           cabecer     provincia \n##  Min.   :322.0   CALAMUCHITA       : 1   ALTA GRACIA : 1   CORDOBA:26  \n##  1st Qu.:328.2   CAPITAL           : 1   BEL VILLE   : 1               \n##  Median :334.5   COLON             : 1   CORDOBA     : 1               \n##  Mean   :342.9   CRUZ DEL EJE      : 1   COSQUIN     : 1               \n##  3rd Qu.:340.8   GENERAL ROCA      : 1   CRUZ DEL EJE: 1               \n##  Max.   :433.0   GENERAL SAN MARTIN: 1   DEAN FUNES  : 1               \n##                  (Other)           :20   (Other)     :20               \n##               fuente            geometry \n##  CATASTRO CORDOBA:26   POLYGON      :26  \n##                        epsg:4326    : 0  \n##                        +proj=long...: 0  \n##                                          \n##                                          \n##                                          \n## \n```\n:::\n\n\n---\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot(departamentos)\n```\n\n::: {.cell-output-display}\n![](introduccion_r_espacial_files/figure-revealjs/unnamed-chunk-25-1.png){width=960}\n:::\n:::\n\n\n\n# Ahora visualicemos `cuencas`\n\n\n::: {.cell}\n\n```{.r .cell-code}\nprint(cuencas <- read_sf(\"datos/cuencas_cba/cuencas_cba.gpkg\", stringsAsFactors = TRUE), n = 2)\n## Simple feature collection with 32 features and 6 fields\n## Geometry type: POLYGON\n## Dimension:     XY\n## Bounding box:  xmin: 3520724 ymin: 6124258 xmax: 3898029 ymax: 6736392\n## Projected CRS: unnamed\n## # A tibble: 32 × 7\n##         AREA PERIMETER COR3_ COR3_ID CUENCA    SISTEMA                      geom\n##        <dbl>     <dbl> <dbl>   <dbl> <fct>     <fct>               <POLYGON [m]>\n## 1 2939859000   337780.     2      28 SISTEMA … SISTEM… ((3622555 6732250, 36239…\n## 2  382742500    95968.     3      30 CUENCA D… SISTEM… ((3633386 6733595, 36335…\n## # ℹ 30 more rows\n```\n:::\n\n\n\n---\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(cuencas, maxsum = 3)\n##       AREA             PERIMETER           COR3_          COR3_ID     \n##  Min.   :9.626e+07   Min.   :  45776   Min.   : 2.00   Min.   : 1.00  \n##  1st Qu.:1.514e+09   1st Qu.: 326552   1st Qu.: 9.75   1st Qu.: 8.75  \n##  Median :2.829e+09   Median : 427580   Median :17.50   Median :16.50  \n##  Mean   :5.134e+09   Mean   : 492282   Mean   :17.69   Mean   :16.50  \n##  3rd Qu.:5.330e+09   3rd Qu.: 580937   3rd Qu.:25.25   3rd Qu.:24.25  \n##  Max.   :5.365e+10   Max.   :1666874   Max.   :34.00   Max.   :32.00  \n##                                  CUENCA                      SISTEMA  \n##  CUENCA DE LAS SALINAS GRANDES      : 2   SISTEMA MORTEROS       :12  \n##  CUENCA DE LA LAGUNA DE MAR CHIQUITA: 1   SISTEMA SALINAS GRANDES:11  \n##  (Other)                            :29   (Other)                : 9  \n##                                                                       \n##                                                                       \n##                                                                       \n##             geom   \n##  POLYGON      :32  \n##  epsg:NA      : 0  \n##  +proj=tmer...: 0  \n##                    \n##                    \n## \n```\n:::\n\n\n---\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot(cuencas)\n```\n\n::: {.cell-output-display}\n![](introduccion_r_espacial_files/figure-revealjs/unnamed-chunk-28-1.png){width=960}\n:::\n:::\n\n\n\n---\n\n## Sistema de coordenadas de referencia\n\n\n\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nst_crs(departamentos)\n## Coordinate Reference System:\n##   User input: WGS 84 \n##   wkt:\n## GEOGCRS[\"WGS 84\",\n##     DATUM[\"World Geodetic System 1984\",\n##         ELLIPSOID[\"WGS 84\",6378137,298.257223563,\n##             LENGTHUNIT[\"metre\",1]]],\n##     PRIMEM[\"Greenwich\",0,\n##         ANGLEUNIT[\"degree\",0.0174532925199433]],\n##     CS[ellipsoidal,2],\n##         AXIS[\"latitude\",north,\n##             ORDER[1],\n##             ANGLEUNIT[\"degree\",0.0174532925199433]],\n##         AXIS[\"longitude\",east,\n##             ORDER[2],\n##             ANGLEUNIT[\"degree\",0.0174532925199433]],\n##     ID[\"EPSG\",4326]]\n```\n:::\n\n\n:::\n\n::: {.column width=\"50%\"}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nst_crs(cuencas)\n## Coordinate Reference System:\n##   User input: unnamed \n##   wkt:\n## PROJCRS[\"unnamed\",\n##     BASEGEOGCRS[\"WGS 84\",\n##         DATUM[\"World Geodetic System 1984\",\n##             ELLIPSOID[\"WGS 84\",6378137,298.257223563,\n##                 LENGTHUNIT[\"metre\",1]]],\n##         PRIMEM[\"Greenwich\",0,\n##             ANGLEUNIT[\"degree\",0.0174532925199433]],\n##         ID[\"EPSG\",4326]],\n##     CONVERSION[\"unnamed\",\n##         METHOD[\"Transverse Mercator\",\n##             ID[\"EPSG\",9807]],\n##         PARAMETER[\"Latitude of natural origin\",-90,\n##             ANGLEUNIT[\"degree\",0.0174532925199433],\n##             ID[\"EPSG\",8801]],\n##         PARAMETER[\"Longitude of natural origin\",-66,\n##             ANGLEUNIT[\"degree\",0.0174532925199433],\n##             ID[\"EPSG\",8802]],\n##         PARAMETER[\"Scale factor at natural origin\",1,\n##             SCALEUNIT[\"unity\",1],\n##             ID[\"EPSG\",8805]],\n##         PARAMETER[\"False easting\",3500000,\n##             LENGTHUNIT[\"Meter\",1],\n##             ID[\"EPSG\",8806]],\n##         PARAMETER[\"False northing\",0,\n##             LENGTHUNIT[\"Meter\",1],\n##             ID[\"EPSG\",8807]]],\n##     CS[Cartesian,2],\n##         AXIS[\"(E)\",east,\n##             ORDER[1],\n##             LENGTHUNIT[\"Meter\",1]],\n##         AXIS[\"(N)\",north,\n##             ORDER[2],\n##             LENGTHUNIT[\"Meter\",1]]]\n```\n:::\n\n\n:::\n\n::::\n\n\n::: {.cell}\n\n```{.r .cell-code}\nst_crs(departamentos) == st_crs(cuencas)\n## [1] FALSE\n```\n:::\n\n\n---\n\n\n::: {.cell highlight.output='3'}\n\n```{.r .cell-code}\ncuencas <- st_transform(cuencas, st_crs(departamentos))\nst_crs(cuencas)\n## Coordinate Reference System:\n##   User input: WGS 84 \n##   wkt:\n## GEOGCRS[\"WGS 84\",\n##     DATUM[\"World Geodetic System 1984\",\n##         ELLIPSOID[\"WGS 84\",6378137,298.257223563,\n##             LENGTHUNIT[\"metre\",1]]],\n##     PRIMEM[\"Greenwich\",0,\n##         ANGLEUNIT[\"degree\",0.0174532925199433]],\n##     CS[ellipsoidal,2],\n##         AXIS[\"latitude\",north,\n##             ORDER[1],\n##             ANGLEUNIT[\"degree\",0.0174532925199433]],\n##         AXIS[\"longitude\",east,\n##             ORDER[2],\n##             ANGLEUNIT[\"degree\",0.0174532925199433]],\n##     ID[\"EPSG\",4326]]\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nst_crs(departamentos) == st_crs(cuencas)\n## [1] TRUE\n```\n:::\n\n\n---\n\n\n::: {.cell highlight.output='[5,6]'}\n\n```{.r .cell-code}\nprint(cuencas, n = 4)\n## Simple feature collection with 32 features and 6 fields\n## Geometry type: POLYGON\n## Dimension:     XY\n## Bounding box:  xmin: -65.78294 ymin: -35.00037 xmax: -61.77663 ymax: -29.49721\n## Geodetic CRS:  WGS 84\n## # A tibble: 32 × 7\n##         AREA PERIMETER COR3_ COR3_ID CUENCA    SISTEMA                      geom\n## *      <dbl>     <dbl> <dbl>   <dbl> <fct>     <fct>               <POLYGON [°]>\n## 1 2939859000   337780.     2      28 SISTEMA … SISTEM… ((-64.73567 -29.53934, -…\n## 2  382742500    95968.     3      30 CUENCA D… SISTEM… ((-64.62412 -29.5261, -6…\n## 3 2702037000   454788.     4      27 CUENCA D… SISTEM… ((-64.83056 -29.55093, -…\n## 4 2717994000   391502.     5      31 CUENCA D… SISTEM… ((-64.83056 -29.55093, -…\n## # ℹ 28 more rows\n```\n:::\n\n\n---\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n\nggplot(muestreo) +\n  geom_sf(aes(fill = Limo), shape = 22, size = 3) +\n  geom_sf(data = departamentos)\n```\n\n::: {.cell-output-display}\n![](introduccion_r_espacial_files/figure-revealjs/unnamed-chunk-35-1.png){width=960}\n:::\n:::\n\n\n---\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(muestreo) +\n  geom_sf(data = departamentos) +\n  geom_sf(aes(fill = Limo), shape = 22, size = 3) \n```\n\n::: {.cell-output-display}\n![](introduccion_r_espacial_files/figure-revealjs/unnamed-chunk-36-1.png){width=960}\n:::\n:::\n\n\n\n---\n\n## Visualización de datos {auto-animate=\"true\"}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot() +\n  geom_sf(data = cuencas)\n```\n\n::: {.cell-output-display}\n![](introduccion_r_espacial_files/figure-revealjs/unnamed-chunk-37-1.png){width=960}\n:::\n:::\n\n\n\n## Visualización de datos {auto-animate=\"true\"}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot() +\n  geom_sf(data = cuencas) +\n  geom_sf(data = muestreo)\n```\n\n::: {.cell-output-display}\n![](introduccion_r_espacial_files/figure-revealjs/unnamed-chunk-38-1.png){width=960}\n:::\n:::\n\n\n\n## Visualización de datos {auto-animate=\"true\"}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot() +\n  geom_sf(data = cuencas) +\n  geom_sf(data = muestreo, aes(color = Limo), size = 3)\n```\n\n::: {.cell-output-display}\n![](introduccion_r_espacial_files/figure-revealjs/unnamed-chunk-39-1.png){width=960}\n:::\n:::\n\n\n## Visualización de datos {auto-animate=\"true\"}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot() +\n  geom_sf(data = cuencas) +\n  geom_sf(data = muestreo, aes(color = Limo), size = 3) +\n  scale_color_continuous(type = \"viridis\")\n```\n\n::: {.cell-output-display}\n![](introduccion_r_espacial_files/figure-revealjs/unnamed-chunk-40-1.png){width=960}\n:::\n:::\n\n\n## Visualización de datos {auto-animate=\"true\"}\n\n\n::: {.cell}\n\n```{.r .cell-code}\n\nggplot() +\n  geom_sf(data = cuencas) +\n  geom_sf(data = muestreo, aes(color = Limo), size = 3) +\n  scale_color_continuous(type = \"viridis\", na.value = \"pink\")\n```\n\n::: {.cell-output-display}\n![](introduccion_r_espacial_files/figure-revealjs/unnamed-chunk-41-1.png){width=960}\n:::\n:::\n\n\n\n## Cuantos puntos de muestreo hay en cada cuenca??? {{< fa pencil-ruler >}}\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmuestreoLatLong <- st_transform(muestreo, st_crs(departamentos))\nst_covers(cuencas, muestreoLatLong)\n## Sparse geometry binary predicate list of length 32, where the predicate\n## was `covers'\n## first 10 elements:\n##  1: 197, 227, 228, 229, 257, 258\n##  2: 256\n##  3: 231, 259, 286, 287, 288\n##  4: (empty)\n##  5: 167\n##  6: 110, 137\n##  7: 111, 138, 139, 140, 168, 169, 170, 198, 199, 200, ...\n##  8: 88, 89\n##  9: 260, 261, 289, 290, 306, 307\n##  10: 308\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncuencasUTM <- st_transform(cuencas, st_crs(muestreo))\nlengths(st_covers(cuencasUTM, muestreo))\n##  [1]   6   1   5   0   1   2  11   2   6   1   0   4   5   5   6   4   1   6   8\n## [20]   8   0  18  14  34   2 129   4  13  14   9  16  17\n```\n:::\n\n\n\n---\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nst_area(cuencas)\nlengths(st_covers(cuencasUTM, muestreo))/st_area(cuencasUTM)\n## Units: [m^2]\n##  [1]  2941319396   383007897  2703593448  2720410977   233947031  1187897765\n##  [7]  4147041584  4319989815  1848644910  1582180011  5114949009  1716889844\n## [13]  1788223705  1313473401  3243021263  2523356652  1167268758  2279175622\n## [19]  3007043779  3785467430    96348171  7828698301  6982510695 15789485675\n## [25]   705525016 53588902736  1121037767  5951933553  6389315550  3648665788\n## [31]  6685136916  7414242043\n## Units: [1/m^2]\n##  [1] 2.043139e-09 2.614800e-09 1.851958e-09 0.000000e+00 4.282275e-09\n##  [6] 1.686827e-09 2.657137e-09 4.638433e-10 3.249556e-09 6.326527e-10\n## [11] 0.000000e+00 2.333735e-09 2.800420e-09 3.808526e-09 1.851379e-09\n## [16] 1.586875e-09 8.574153e-10 2.636741e-09 2.664597e-09 2.116604e-09\n## [21] 0.000000e+00 2.302539e-09 2.005620e-09 2.156470e-09 2.838991e-09\n## [26] 2.410084e-09 3.569966e-09 2.185862e-09 2.192333e-09 2.469177e-09\n## [31] 2.395066e-09 2.293799e-09\n```\n:::\n\n\n---\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npuntosKm <- lengths(st_covers(cuencasUTM, muestreo))/units::set_units(st_area(cuencasUTM), km^2)\ncuencasUTM$CantidadMuestrasKm <- as.numeric(puntosKm)\ncuencasUTM$CantidadMuestrasKm\n##  [1] 0.0020431392 0.0026148004 0.0018519580 0.0000000000 0.0042822751\n##  [6] 0.0016868273 0.0026571370 0.0004638433 0.0032495556 0.0006326527\n## [11] 0.0000000000 0.0023337350 0.0028004203 0.0038085260 0.0018513786\n## [16] 0.0015868747 0.0008574153 0.0026367409 0.0026645968 0.0021166040\n## [21] 0.0000000000 0.0023025389 0.0020056198 0.0021564699 0.0028389907\n## [26] 0.0024100838 0.0035699660 0.0021858622 0.0021923332 0.0024691772\n## [31] 0.0023950658 0.0022937989\n```\n:::\n\n\n---\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n\nggplot(cuencasUTM) +\n  geom_sf(aes(fill = CantidadMuestrasKm))\n```\n\n::: {.cell-output-display}\n![](introduccion_r_espacial_files/figure-revealjs/unnamed-chunk-46-1.png){width=960}\n:::\n:::\n\n\n\n---\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nst_covers(cuencasUTM,muestreo)\n## Sparse geometry binary predicate list of length 32, where the predicate\n## was `covers'\n## first 10 elements:\n##  1: 197, 227, 228, 229, 257, 258\n##  2: 256\n##  3: 231, 259, 286, 287, 288\n##  4: (empty)\n##  5: 167\n##  6: 110, 137\n##  7: 111, 138, 139, 140, 168, 169, 170, 198, 199, 200, ...\n##  8: 88, 89\n##  9: 260, 261, 289, 290, 306, 307\n##  10: 308\n```\n:::\n\n\n---\n\n\n\n::: {.cell highlight.output='[1,2,3]'}\n\n```{.r .cell-code}\n mediaLimo <- sapply(st_covers(cuencasUTM,muestreo), function(x) {\n  mean(muestreo[x,][[\"Limo\"]], na.rm = TRUE)\n     })\nmediaLimo\n\n##  [1] 35.85000 15.40000 32.36000      NaN 33.70000 47.25000 47.48889 52.40000\n##  [9] 32.43333 18.00000      NaN 50.67500 65.76000 35.88000 37.73333 22.52500\n## [17] 29.30000 55.38333 46.33750 51.63750      NaN 52.18889 33.80714 55.46176\n## [25] 63.75000 42.23566 30.92500 25.74615 17.64286 32.40000 20.01250 15.09412\n```\n:::\n\n\n\n# Visualizacion {auto-animate=\"true\"}\n\n\n::: {.cell output-location='column'}\n\n```{.r .cell-code}\ncuencasUTM$MediaLimo <- mediaLimo\nggplot(cuencasUTM) +\n  geom_sf(aes(fill = MediaLimo))\n```\n\n::: {.cell-output-display}\n![](introduccion_r_espacial_files/figure-revealjs/ggplot-cuencasMediaLimo-1.png){width=960}\n:::\n:::\n\n\n\n## Visualización de datos {auto-animate=\"true\"}\n\n\n::: {.cell output-location='column'}\n\n```{.r .cell-code}\nggplot(cuencasUTM) +\n  geom_sf(aes(fill = MediaLimo)) +\n  labs(fill = \"Limo (%)\")\n```\n\n::: {.cell-output-display}\n![](introduccion_r_espacial_files/figure-revealjs/ggplot-cuencasMediaLimolab-1.png){width=960}\n:::\n:::\n\n\n## Visualización de datos {auto-animate=\"true\"}\n\n\n::: {.cell output-location='column'}\n\n```{.r .cell-code}\nggplot(cuencasUTM) +\n  geom_sf(aes(fill = MediaLimo)) +\n  labs(fill = \"Limo (%)\") + \n  ggspatial::annotation_north_arrow(\n    location = \"tr\", \n    which_north = \"grid\"\n    )\n```\n\n::: {.cell-output-display}\n![](introduccion_r_espacial_files/figure-revealjs/ggplot-cuencasMediaLimolabNorth-1.png){width=960}\n:::\n:::\n\n\n# Paquete `tmap`\n\n- La sintaxis es similar a `ggplot2`, pero orientada a mapas\n- La mayoría de las funciones comienzan con `tm_`\n- Para comenzar a graficar, es necesario especificarlo con `tm_shape`\n- Las capas se agregan mediante `+`\n- Permite graficar mapas estáticos o interactivos con el mismo código `tmap_mode()`.\n\n\n\n---\n\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n\n::: {.cell}\n\n```{.r .cell-code}\ntm_shape(cuencasUTM) +\n  tm_fill()\n```\n\n::: {.cell-output-display}\n![](introduccion_r_espacial_files/figure-revealjs/unnamed-chunk-52-1.png){width=960}\n:::\n:::\n\n:::\n\n::: {.column width=\"50%\"}\n\n::: {.cell}\n\n```{.r .cell-code}\ntm_shape(cuencasUTM) +\n  tm_fill(\"MediaLimo\")\n```\n\n::: {.cell-output-display}\n![](introduccion_r_espacial_files/figure-revealjs/tmap-cuencasMediaLimoSB-1.png){width=960}\n:::\n:::\n\n\n:::\n\n::::\n\n---\n\n\n::: {.cell output-location='column'}\n\n```{.r .cell-code}\ntm_shape(cuencasUTM) +\n  tm_fill(\"MediaLimo\") +\n  tm_borders()\n```\n\n::: {.cell-output-display}\n![](introduccion_r_espacial_files/figure-revealjs/tmap-cuencasMediaLimo-1.png){width=960}\n:::\n:::\n\n\n---\n\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n\n::: {.cell}\n\n```{.r .cell-code}\ntm_shape(cuencasUTM) +\n  tm_fill(\"MediaLimo\", style = \"quantile\") +\n  tm_borders() \n```\n\n::: {.cell-output-display}\n![](introduccion_r_espacial_files/figure-revealjs/unnamed-chunk-54-1.png){width=960}\n:::\n:::\n\n\n:::\n\n::: {.column width=\"50%\"}\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntm_shape(cuencasUTM) +\n  tm_fill(\"MediaLimo\", style = \"cont\") +\n  tm_borders() \n```\n\n::: {.cell-output-display}\n![](introduccion_r_espacial_files/figure-revealjs/unnamed-chunk-55-1.png){width=960}\n:::\n:::\n\n\n:::\n\n::::\n\n---\n\n\n\n::: {.cell output-location='column'}\n\n```{.r .cell-code}\ntmap_mode(\"view\")\ntm_shape(cuencasUTM) +\n  tm_fill(\"MediaLimo\", style = \"cont\") +\n  tm_borders() +\n  tm_basemap(\"Esri.WorldTopoMap\")\n\n```\n:::\n\n\n\n\n---\n\n\n\n::: {.cell output-location='column'}\n\n```{.r .cell-code}\ntmap_mode(\"view\")\ntm_shape(cuencasUTM) +\n  tm_fill(\"MediaLimo\",\n          fill.scale = tm_scale_intervals(style = 'quantile'),\n          fill_alpha = 0.8) +\n  tm_borders() +\n  tm_basemap(c(\"Stadia.Stamen.Watercolor\",\n               \"Esri\",\n               \"OpenTopoMap\",\n               \"Stamen.Terrain\"))\n# names(leaflet::providers)\n```\n:::\n\n\n\n---\n\n\n\n\n::: {.cell output-location='column'}\n\n```{.r .cell-code}\ntmap_mode(\"plot\")\ncuencas_tmap <- tm_shape(cuencasUTM) +\n  tm_fill(\n    fill = \"MediaLimo\",\n    fill.scale = tm_scale_continuous(),\n    fill.legend = tm_legend(\n      title = 'Media Limo',\n      text.size = 20,\n      title.size = 23,\n      legend.outside = TRUE,\n      frame = \"gray50\"\n    )\n  ) +\n  tm_borders()\ncuencas_tmap\n```\n\n::: {.cell-output-display}\n![](introduccion_r_espacial_files/figure-revealjs/tmap-cuencasUTMPllette-1.png){width=960}\n:::\n:::\n\n\n---\n\n\n\n\n::: {.cell output-location='column'}\n\n```{.r .cell-code}\nmuestreo_tmap <- tm_shape(muestreo) +\n  tm_dots(\"Limo\", size = 0.5,\n          palette = \"BuGn\", colorNA= NULL,\n          legend.hist=T) +\n  tm_layout(legend.format = list(text.separator= \" a \"),\n            legend.outside = TRUE,\n            legend.hist.width = 2.5)\nmuestreo_tmap\n```\n\n::: {.cell-output-display}\n![](introduccion_r_espacial_files/figure-revealjs/tmap-muestreoNA-1.png){width=960}\n:::\n:::\n\n\n\n---\n\n\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](introduccion_r_espacial_files/figure-revealjs/unnamed-chunk-60-1.png){width=960}\n:::\n:::\n\n:::\n\n::: {.column width=\"50%\"}\n\n::: {.cell}\n::: {.cell-output-display}\n![](introduccion_r_espacial_files/figure-revealjs/unnamed-chunk-61-1.png){width=960}\n:::\n:::\n\n:::\n\n::::\n\n\n---\n\n\n::: {.cell output-location='column'}\n\n```{.r .cell-code}\ntm_shape(cuencasUTM) +\n  tm_fill(\"MediaLimo\", \n          style = \"cont\", \n          # palette = c(\"red\", \"blue\"),\n          textNA = \"Sin Datos\",\n          title.size = \"Media Limo\") +\n  tm_borders() +\n  tm_legend(\n    text.size=1,\n    title.size=1.2,\n    legend.outside=TRUE,\n    frame=\"gray50\",\n    height=.6) +\n  tm_shape(muestreo) +\n  tm_dots(\"Limo\", size = 0.5,\n          palette = \"BuGn\", colorNA= NULL,\n          legend.hist=T) +\n  tm_layout(legend.format = list(text.separator= \" a \"),\n            legend.outside = TRUE,\n            legend.hist.width = 2.5)\n```\n\n::: {.cell-output-display}\n![](introduccion_r_espacial_files/figure-revealjs/tmap-doscapas-1.png){width=960}\n:::\n:::\n\n\n\n---\n\n\n::: {.cell output-location='column'}\n\n```{.r .cell-code}\ncuencas_tmap +\nmuestreo_tmap\n```\n:::\n\n\n---\n\n\n\n::: {.cell output-location='column'}\n\n```{.r .cell-code}\ncuencas_tmap +\nmuestreo_tmap +\n  tm_scale_bar() +\n  tm_compass(position = c( \"right\", \"top\"))\n```\n\n::: {.cell-output-display}\n![](introduccion_r_espacial_files/figure-revealjs/tmap-escala-1.png){width=960}\n:::\n:::\n\n\n---\n\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntmap_cuencas <- tm_shape(cuencasUTM) +\n  tm_fill(\"MediaLimo\", style = \"quantile\") +\n  tm_borders() +\n  tm_legend(legend.outside = TRUE)\ntmap_cuencas\n```\n\n::: {.cell-output-display}\n![](introduccion_r_espacial_files/figure-revealjs/unnamed-chunk-64-1.png){width=960}\n:::\n:::\n\n\n:::\n\n::: {.column width=\"50%\"}\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntmap_muestreo <-   tm_shape(muestreo) +\n  tm_bubbles(col = \"K\", style = \"cont\", textNA = \"Sin dato\") +\n  tm_legend(legend.outside = TRUE)\ntmap_muestreo\n```\n\n::: {.cell-output-display}\n![](introduccion_r_espacial_files/figure-revealjs/unnamed-chunk-65-1.png){width=960}\n:::\n:::\n\n:::\n\n::::\n\n---\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntmap_arrange(tmap_cuencas, tmap_muestreo)\n```\n\n::: {.cell-output-display}\n![](introduccion_r_espacial_files/figure-revealjs/unnamed-chunk-66-1.png){width=672}\n:::\n:::\n\n\n\n---\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# tmap_mode(\"view\")\ntm_shape(cuencasUTM) +\n  tm_fill(\"MediaLimo\",\n          fill.scale = tm_scale_continuous(values = \"RdYlGn\"),\n          fill.legend = tm_legend(title = \"Media Limo\")) +\n  tm_borders() +\n  tm_facets(\"SISTEMA\", nrow = 1, sync = TRUE) +\n  tm_basemap(\"OpenStreetMap\")\n```\n\n::: {.cell-output-display}\n![](introduccion_r_espacial_files/figure-revealjs/unnamed-chunk-67-1.png){width=960}\n:::\n:::\n\n\n\n# Referencias",
    "supporting": [
      "introduccion_r_espacial_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\r\n<script>\r\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\r\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\r\n  // slide changes (different for each slide format).\r\n  (function () {\r\n    // dispatch for htmlwidgets\r\n    function fireSlideEnter() {\r\n      const event = window.document.createEvent(\"Event\");\r\n      event.initEvent(\"slideenter\", true, true);\r\n      window.document.dispatchEvent(event);\r\n    }\r\n\r\n    function fireSlideChanged(previousSlide, currentSlide) {\r\n      fireSlideEnter();\r\n\r\n      // dispatch for shiny\r\n      if (window.jQuery) {\r\n        if (previousSlide) {\r\n          window.jQuery(previousSlide).trigger(\"hidden\");\r\n        }\r\n        if (currentSlide) {\r\n          window.jQuery(currentSlide).trigger(\"shown\");\r\n        }\r\n      }\r\n    }\r\n\r\n    // hookup for slidy\r\n    if (window.w3c_slidy) {\r\n      window.w3c_slidy.add_observer(function (slide_num) {\r\n        // slide_num starts at position 1\r\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\r\n      });\r\n    }\r\n\r\n  })();\r\n</script>\r\n\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}